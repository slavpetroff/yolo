{"p":"04","n":"01","t":"QA gate output patterns for all three gate levels","w":1,"d":[],"mh":{"tr":["QA gate failure output uses brand-essentials symbols and box-drawing","QA gate success output shows concise metrics (tests passed, time)","All three gate levels (post-task, post-plan, post-phase) have distinct output templates","Output follows yolo-brand-essentials.toon stop_message pattern for failures"],"ar":[{"p":"references/qa-output-patterns.md","pv":"file exists","c":"Contains output templates for post-task, post-plan, post-phase QA gates with pass/fail/partial states"}],"kl":[{"fr":"qa-output-patterns.md templates","to":"yolo-brand-essentials.toon","vi":"All symbols and box-drawing match brand vocabulary"},{"fr":"qa-output-patterns.md gate levels","to":"REQ-07 gate definitions","vi":"Each gate level has a corresponding output template"}]}}
{"id":"T1","tp":"auto","a":"Design post-task QA gate output templates (pass/fail/partial) using brand-essentials symbols. Success shows test count and duration. Failure shows which tests failed with file:line and remediation hint. Write to references/qa-output-patterns.md.","f":["references/qa-output-patterns.md"],"v":"Post-task section exists with pass/fail/partial templates using brand symbols","done":"Post-task QA output templates committed","spec":"## T1: Design Post-Task QA Gate Output Templates\n\n### Context\nPer architecture.toon qa-output-patterns component: UX output templates for all three gate levels and all states (pass/fail/partial/warn). Uses brand-essentials symbols and box-drawing. No ANSI codes. This task handles the post-task level.\n\nPer 04-CONTEXT-uiux.md: CLI-only project, all output via echo/printf, follow yolo-brand-essentials.toon conventions.\n\n### File to Create\n`references/qa-output-patterns.md`\n\n### Structure\nBegin the file with a top-level header and introduction, then add the Post-Task Gate Output section.\n\n```markdown\n# QA Gate Output Patterns\n\nOutput templates for all QA gate levels (post-task, post-plan, post-phase) across all states (pass, fail, partial, warn). All output uses symbols from yolo-brand-essentials.toon. No ANSI color codes.\n\nReference: `references/yolo-brand-essentials.toon` for canonical symbol definitions.\n\n## Post-Task Gate Output\n\nDisplayed after each Dev task commit during Step 7 execution. Uses single-line box-drawing (standard_task level per brand essentials) when box is needed.\n\n### Pass State\n\nMinimal single-line output. Shows test count and wall-clock duration.\n\n```\n  \\u2713 Post-task QA: {N} tests passed ({X.Xs})\n```\n\nExample:\n```\n  \\u2713 Post-task QA: 12 tests passed (2.3s)\n```\n\n### Fail State\n\nUses stop_message two-part pattern: problem description + remediation action. Lists each failing test with file:line reference.\n\n```\n  \\u2717 Post-task QA: {N} of {M} tests failed ({X.Xs})\n\n  Failures:\n    \\u2717 {test-file}:{line} -- {test name}: {failure reason}\n    \\u2717 {test-file}:{line} -- {test name}: {failure reason}\n\n  \\u279C Fix failing tests, then re-commit to re-trigger gate.\n```\n\nExample:\n```\n  \\u2717 Post-task QA: 2 of 14 tests failed (3.1s)\n\n  Failures:\n    \\u2717 tests/unit/resolve-qa-config.bats:42 -- reads fallback from defaults.json: expected 30 got 0\n    \\u2717 tests/unit/resolve-qa-config.bats:58 -- handles missing config.json: command exited with status 1\n\n  \\u279C Fix failing tests, then re-commit to re-trigger gate.\n```\n\n### Partial State (Warn)\n\nWhen test infrastructure exists but no tests match the modified files (--scope found zero relevant tests).\n\n```\n  \\u26A0 Post-task QA: no relevant tests for modified files ({X.Xs})\n\n  Modified: {file1}, {file2}\n\n  \\u279C Consider adding tests for these files.\n```\n\n### Warn State (Missing Infrastructure)\n\nWhen test runner (bats) or test-summary.sh is not found. Gate passes with warning per fail-open design (architecture.toon C5).\n\n```\n  \\u26A0 Post-task QA: test infrastructure not found, skipping\n\n  \\u279C Install bats or verify test-summary.sh exists.\n```\n```\n\n### Symbol Usage (Post-Task)\n- `\\u2713` (Success/complete) -- all tests passed\n- `\\u2717` (Failure/error) -- test failures, each failing test line\n- `\\u26A0` (Warning) -- no relevant tests or missing infrastructure\n- `\\u279C` (Info/arrow) -- remediation suggestion (next step)\n- `--` (Separator) -- between test name and failure reason\n\n### Commit\n`docs(04-continuous-qa-system): post-task QA gate output templates`\n\n### Verification\n- File exists: `[ -f references/qa-output-patterns.md ]`\n- Contains Post-Task section: `grep -c '## Post-Task Gate Output' references/qa-output-patterns.md` returns 1\n- Contains all three states: `grep -c '### Pass State' references/qa-output-patterns.md` returns 1, same for Fail State, Partial State\n- No ANSI codes: `grep -cP '\\\\e\\[|\\\\033\\[' references/qa-output-patterns.md` returns 0\n- Uses brand symbols: `grep -c '\\u2713\\|\\u2717\\|\\u26A0\\|\\u279C' references/qa-output-patterns.md` returns > 0"}
{"id":"T2","tp":"auto","a":"Design post-plan QA gate output templates. Success shows plan-level metrics (tasks completed, total tests, coverage). Failure shows blocking issues with plan-task cross-references. Partial shows which tasks passed and which need remediation. Append to references/qa-output-patterns.md.","f":["references/qa-output-patterns.md"],"td":["T1"],"v":"Post-plan section exists with all three state templates","done":"Post-plan QA output templates appended","spec":"## T2: Design Post-Plan QA Gate Output Templates\n\n### Context\nPost-plan gate runs after all tasks in a plan complete and summary.jsonl is written (architecture.toon integration point 2). It runs the full test suite and verifies must_have coverage. Uses single-line box-drawing (standard_task level) for the result box.\n\n### File to Modify\n`references/qa-output-patterns.md` -- append after the Post-Task section.\n\n### Content to Append\n\n```markdown\n## Post-Plan Gate Output\n\nDisplayed after all tasks in a plan complete and summary.jsonl is written (Step 7 post-plan). Uses single-line box-drawing for the summary box.\n\n### Pass State\n\nShows plan-level metrics in a single-line box using metrics_block format (left-padded labels to 14 chars).\n\n```\n\\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\n\\u2502 \\u2713 Post-plan QA: PASS                      \\u2502\n\\u2502                                        \\u2502\n\\u2502          Plan: {NN-MM} {title}          \\u2502\n\\u2502         Tasks: {N}/{M} complete          \\u2502\n\\u2502         Tests: {N} passed ({X.Xs})       \\u2502\n\\u2502     Must-have: {N}/{M} verified          \\u2502\n\\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\n```\n\n### Fail State\n\nUses single-line box for summary, then stop_message pattern for each blocking issue.\n\n```\n\\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\n\\u2502 \\u2717 Post-plan QA: FAIL                      \\u2502\n\\u2502                                        \\u2502\n\\u2502          Plan: {NN-MM} {title}          \\u2502\n\\u2502         Tasks: {N}/{M} complete          \\u2502\n\\u2502         Tests: {P} passed, {F} failed    \\u2502\n\\u2502     Must-have: {N}/{M} verified          \\u2502\n\\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\n\n  Blocking issues:\n    \\u2717 {issue description} -- {plan-task reference}\n    \\u2717 {issue description} -- {plan-task reference}\n\n  \\u279C Fix blocking issues. Plan progression halted until gate passes.\n```\n\n### Partial State\n\nWhen some tasks passed gate but others need remediation. Shows per-task status using file_checklist pattern.\n\n```\n\\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\n\\u2502 \\u26A0 Post-plan QA: PARTIAL                    \\u2502\n\\u2502                                        \\u2502\n\\u2502          Plan: {NN-MM} {title}          \\u2502\n\\u2502         Tasks: {N}/{M} complete          \\u2502\n\\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\n\n  Task results:\n    \\u2713 T1 -- {task action summary}\n    \\u2713 T2 -- {task action summary}\n    \\u2717 T3 -- {task action summary}: {failure reason}\n    \\u25CB T4 -- {task action summary} (blocked by T3)\n\n  \\u279C Remediate failing tasks. Senior will re-spec failed items.\n```\n```\n\n### Symbol Usage (Post-Plan)\n- `\\u2713` (Success/complete) -- gate passed, task passed\n- `\\u2717` (Failure/error) -- gate failed, task failed, blocking issue\n- `\\u26A0` (Warning) -- partial result\n- `\\u25CB` (Pending/neutral) -- task blocked/not yet run\n- `\\u279C` (Info/arrow) -- remediation next step\n- `--` (Separator) -- between task ID and description, between issue and reference\n- Single-line box-drawing: `\\u250C \\u2500 \\u2510 \\u2502 \\u2514 \\u2518` (standard_task level per brand essentials)\n\n### Commit\n`docs(04-continuous-qa-system): post-plan QA gate output templates`\n\n### Verification\n- `grep -c '## Post-Plan Gate Output' references/qa-output-patterns.md` returns 1\n- Contains all three states: `grep -c '### Pass State' references/qa-output-patterns.md` returns 2 (post-task + post-plan)\n- Uses single-line box characters: `grep -c '\\u250C\\|\\u2514' references/qa-output-patterns.md` returns > 0\n- Uses metrics_block format (left-padded labels): verify Plan/Tasks/Tests/Must-have labels present"}
{"id":"T3","tp":"auto","a":"Design post-phase QA gate output templates using double-line box-drawing (critical_phase level per brand essentials). Success shows phase summary metrics. Failure shows blocking gates with escalation path. Append to references/qa-output-patterns.md.","f":["references/qa-output-patterns.md"],"td":["T2"],"v":"Post-phase section uses double-line box-drawing, all three states covered","done":"Post-phase QA output templates appended","spec":"## T3: Design Post-Phase QA Gate Output Templates\n\n### Context\nPost-phase gate runs before QA agent spawn (Step 9). It is a critical_phase-level event and therefore uses double-line box-drawing per brand-essentials.toon box_semantic_mapping. This is the highest-level gate and blocks QA agent spawn on failure.\n\n### File to Modify\n`references/qa-output-patterns.md` -- append after the Post-Plan section.\n\n### Content to Append\n\n```markdown\n## Post-Phase Gate Output\n\nDisplayed before QA agent spawn (Step 9). Uses double-line box-drawing (critical_phase level per brand essentials). This is the highest-criticality gate -- failure blocks QA agent spawn entirely (cost savings: prevents expensive LLM agents from running on known-broken code).\n\n### Pass State\n\nShows phase-level aggregate metrics in a double-line box.\n\n```\n\\u2554\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2557\n\\u2551 \\u2713 Post-phase QA: PASS                      \\u2551\n\\u2551                                        \\u2551\n\\u2551         Phase: {NN} {title}             \\u2551\n\\u2551         Plans: {N}/{M} complete          \\u2551\n\\u2551         Tests: {N} passed ({X.Xs})       \\u2551\n\\u2551         Gates: {N}/{M} passed            \\u2551\n\\u255A\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u255D\n\n  \\u279C Spawning QA agents for deep verification...\n```\n\n### Fail State\n\nUses double-line box for summary, then lists blocking gates with escalation path.\n\n```\n\\u2554\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2557\n\\u2551 \\u2717 Post-phase QA: FAIL                      \\u2551\n\\u2551                                        \\u2551\n\\u2551         Phase: {NN} {title}             \\u2551\n\\u2551         Plans: {N}/{M} complete          \\u2551\n\\u2551         Tests: {P} passed, {F} failed    \\u2551\n\\u2551         Gates: {N}/{M} passed            \\u2551\n\\u255A\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u255D\n\n  Blocking gates:\n    \\u2717 Post-plan {NN-MM}: {failure summary}\n    \\u2717 Post-plan {NN-MM}: {failure summary}\n\n  \\u2717 QA agent spawn blocked. Remediation required.\n  \\u279C Fix blocking gates. A remediation plan will be generated.\n```\n\n### Partial State\n\nWhen some plans passed gate but others failed. Lists per-plan gate status.\n\n```\n\\u2554\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2557\n\\u2551 \\u26A0 Post-phase QA: PARTIAL                    \\u2551\n\\u2551                                        \\u2551\n\\u2551         Phase: {NN} {title}             \\u2551\n\\u2551         Plans: {N}/{M} complete          \\u2551\n\\u255A\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u255D\n\n  Plan gate results:\n    \\u2713 {NN-MM} -- {plan title}\n    \\u2717 {NN-MM} -- {plan title}: {failure reason}\n    \\u25CB {NN-MM} -- {plan title} (not executed)\n\n  \\u279C Remediate failing plan gates before QA agents can spawn.\n```\n```\n\n### Symbol Usage (Post-Phase)\n- `\\u2713` (Success/complete) -- gate passed, plan gate passed\n- `\\u2717` (Failure/error) -- gate failed, plan gate failed, spawn blocked\n- `\\u26A0` (Warning) -- partial result\n- `\\u25CB` (Pending/neutral) -- plan gate not executed\n- `\\u279C` (Info/arrow) -- next step / remediation\n- `--` (Separator) -- between plan ID and title\n- Double-line box-drawing: `\\u2554 \\u2550 \\u2557 \\u2551 \\u255A \\u255D` (critical_phase level per brand essentials)\n\n### Commit\n`docs(04-continuous-qa-system): post-phase QA gate output templates`\n\n### Verification\n- `grep -c '## Post-Phase Gate Output' references/qa-output-patterns.md` returns 1\n- Uses double-line box characters: `grep -c '\\u2554\\|\\u255A' references/qa-output-patterns.md` returns > 0\n- Contains all three states: Pass State, Fail State, Partial State\n- Box-drawing level matches brand-essentials.toon critical_phase specification"}
{"id":"T4","tp":"auto","a":"Add QA status-line patterns for in-progress gate execution: running indicator (diamond), gate name, elapsed time. Define the statusline format that appears during 11-step execution when a QA gate is active. Append to references/qa-output-patterns.md.","f":["references/qa-output-patterns.md"],"td":["T3"],"v":"Status-line section exists with running/complete/failed patterns","done":"QA statusline patterns appended","spec":"## T4: Add QA Status-Line Patterns\n\n### Context\nDuring 11-step execution, QA gates run as sub-processes. The user needs to see real-time status while gates execute. Per brand-essentials.toon, the in-progress symbol is \\u25C6 (diamond), and the agent_spawn pattern uses `\\u25C6 Spawning {AgentName}...` for start and `\\u2713 {AgentName} complete` for end.\n\nStatus lines are transient -- they show during gate execution and are replaced by the gate result output (from T1-T3) when the gate completes.\n\n### File to Modify\n`references/qa-output-patterns.md` -- append after the Post-Phase section.\n\n### Content to Append\n\n```markdown\n## QA Gate Status Lines\n\nTransient status output displayed while a QA gate is executing. Follows agent_spawn pattern from brand-essentials.toon. Replaced by gate result output (above sections) when complete.\n\n### Running State\n\nShown while gate is actively executing. Uses diamond (\\u25C6) in-progress indicator.\n\n```\n  \\u25C6 Running {gate-name} gate... ({Xs})\n```\n\nGate names:\n- `post-task` -- after Dev task commit\n- `post-plan` -- after plan summary\n- `post-phase` -- before QA agent spawn\n\nExamples:\n```\n  \\u25C6 Running post-task gate... (2s)\n  \\u25C6 Running post-plan gate... (15s)\n  \\u25C6 Running post-phase gate... (45s)\n```\n\n### Complete State\n\nShown briefly when gate finishes, before detailed result output renders.\n\n```\n  \\u2713 {gate-name} gate complete ({X.Xs})\n```\n\nExample:\n```\n  \\u2713 post-task gate complete (2.3s)\n```\n\n### Failed State\n\nShown briefly when gate fails, before detailed failure output renders.\n\n```\n  \\u2717 {gate-name} gate failed ({X.Xs})\n```\n\nExample:\n```\n  \\u2717 post-plan gate failed (18.7s)\n```\n\n### Timeout State\n\nShown when gate exceeds configured timeout (qa_gates.timeout_seconds).\n\n```\n  \\u26A0 {gate-name} gate timed out ({Xs}/{Ys} limit)\n```\n\nExample:\n```\n  \\u26A0 post-task gate timed out (30s/30s limit)\n```\n```\n\n### Symbol Usage (Status Lines)\n- `\\u25C6` (In progress) -- gate actively running\n- `\\u2713` (Success/complete) -- gate finished successfully\n- `\\u2717` (Failure/error) -- gate finished with failure\n- `\\u26A0` (Warning) -- gate timed out\n\n### Commit\n`docs(04-continuous-qa-system): QA gate status-line patterns`\n\n### Verification\n- `grep -c '## QA Gate Status Lines' references/qa-output-patterns.md` returns 1\n- Contains all four states: Running, Complete, Failed, Timeout\n- Uses diamond symbol for running state\n- Gate names match architecture.toon component names (post-task, post-plan, post-phase)"}
{"id":"T5","tp":"auto","a":"Add brand-essentials integration section documenting which symbols map to which QA states, and a quick-reference table of all QA output patterns by gate-level and state. Ensure no ANSI codes per brand rules. Append to references/qa-output-patterns.md.","f":["references/qa-output-patterns.md"],"td":["T4"],"v":"Integration section has symbol-to-state mapping table and quick-reference matrix","done":"Brand integration and quick-reference committed","spec":"## T5: Add Brand Integration and Quick-Reference Matrix\n\n### Context\nThis is the final section of qa-output-patterns.md. It serves as a cross-reference between brand-essentials.toon symbols and QA-specific states, plus a quick-lookup matrix so script authors can find the right template without reading the full doc.\n\n### File to Modify\n`references/qa-output-patterns.md` -- append after the QA Gate Status Lines section.\n\n### Content to Append\n\n```markdown\n## Brand-Essentials Integration\n\nMapping between yolo-brand-essentials.toon symbols and QA gate states.\n\n### Symbol-to-State Mapping\n\n| Symbol | Unicode | Brand Meaning | QA Gate Usage |\n|--------|---------|---------------|---------------|\n| \\u2713 | U+2713 | Success/complete | Gate passed, test passed, task complete |\n| \\u2717 | U+2717 | Failure/error | Gate failed, test failed, spawn blocked |\n| \\u25C6 | U+25C6 | In progress | Gate actively running |\n| \\u25CB | U+25CB | Pending/neutral | Task blocked, gate not executed |\n| \\u26A0 | U+26A0 | Warning | Partial result, timeout, missing infrastructure |\n| \\u279C | U+279C | Info/arrow | Remediation suggestion, next step |\n| -- | U+2014 | Separator | Between identifiers and descriptions |\n\n### Box-Drawing Level Mapping\n\n| Gate Level | Box Style | Brand Category | Rationale |\n|------------|-----------|----------------|----------|\n| Post-task | Single-line (\\u250C\\u2500\\u2510\\u2502\\u2514\\u2518) | standard_task | Task-level, low ceremony |\n| Post-plan | Single-line (\\u250C\\u2500\\u2510\\u2502\\u2514\\u2518) | standard_task | Plan-level, medium ceremony |\n| Post-phase | Double-line (\\u2554\\u2550\\u2557\\u2551\\u255A\\u255D) | critical_phase | Phase-level, high ceremony |\n\nNote: Post-task pass state uses no box (single-line output only) to minimize noise during rapid task execution.\n\n## Quick-Reference Matrix\n\nLookup table: find the output template by gate level and result state.\n\n| Gate Level | PASS | FAIL | PARTIAL | WARN |\n|------------|------|------|---------|------|\n| Post-task | Single line: `\\u2713 Post-task QA: N tests passed (Xs)` | Multi-line: failures list + remediation | `\\u26A0` no relevant tests | `\\u26A0` missing infrastructure |\n| Post-plan | Single-line box with metrics | Single-line box + blocking issues | Single-line box + per-task checklist | N/A |\n| Post-phase | Double-line box with metrics | Double-line box + blocking gates | Double-line box + per-plan checklist | N/A |\n| Status line | `\\u2713 gate complete` | `\\u2717 gate failed` | N/A | `\\u26A0 gate timed out` |\n\n## Rules\n\n1. **No ANSI color codes** -- not rendered in Claude Code model output (brand rule 1)\n2. **No Nerd Font glyphs** -- not universally available (brand rule 2)\n3. **Content readable without box-drawing** -- degrade gracefully (brand rule 3)\n4. **Lines under 80 chars inside boxes** -- visual consistency (brand rule 4)\n5. **Consistent symbol usage** -- never use \\u2713 for failure or \\u2717 for success (brand rule 5)\n6. **Two-part error messages** -- every failure output has problem + remediation (stop_message pattern)\n7. **Metrics use left-padded labels** -- 14-char left-pad per metrics_block pattern\n```\n\n### Commit\n`docs(04-continuous-qa-system): brand integration and quick-reference matrix`\n\n### Verification\n- `grep -c '## Brand-Essentials Integration' references/qa-output-patterns.md` returns 1\n- `grep -c '## Quick-Reference Matrix' references/qa-output-patterns.md` returns 1\n- Contains symbol-to-state mapping table (7 rows)\n- Contains box-drawing level mapping table (3 rows)\n- Contains quick-reference matrix (4 rows x 5 columns)\n- `grep -c '## Rules' references/qa-output-patterns.md` returns 1\n- Rules section references brand rule numbers\n- No ANSI codes in the entire file: `grep -cP '\\\\e\\[|\\\\033\\[' references/qa-output-patterns.md` returns 0"}
