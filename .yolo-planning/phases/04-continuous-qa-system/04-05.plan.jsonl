{"p":"04","n":"05","t":"Config-aware qa-gate.sh and config.md QA settings","w":2,"d":["04-03","04-04"],"mh":{"tr":["qa-gate.sh reads qa_gates config via resolve-qa-config.sh without breaking existing hook interface","Config.md exposes all QA gate settings via interactive and direct modes","Backward compatible: projects without qa_gates config work unchanged"],"ar":[{"p":"commands/config.md","pv":"QA gates section in settings reference","c":"Config.md has QA gate toggle options in interactive mode and settings reference table"}],"kl":[{"fr":"commands/config.md QA settings","to":"config/defaults.json qa_gates","vi":"Every config.md QA option maps to a qa_gates key in defaults.json"},{"fr":"scripts/qa-gate.sh config reading","to":"scripts/resolve-qa-config.sh","vi":"qa-gate.sh uses resolve-qa-config.sh for config resolution"}]}}
{"id":"T1","tp":"auto","a":"Update scripts/qa-gate.sh to read qa_gates config via resolve-qa-config.sh. Do NOT add --level dispatch or change the hook interface (stdin-only). Keep existing structural checks unchanged. Add config awareness: if qa_gates config is disabled, skip structural checks and output {gate:skipped}. Fail-open on config read errors. Per architecture D2/D7: qa-gate.sh stays as Notification hook, workflow-level gates are separate scripts in 04-06/04-07.","f":["scripts/qa-gate.sh"],"v":"qa-gate.sh reads config via resolve-qa-config.sh, existing hook interface unchanged, fail-open preserved","done":"QA gate hook config awareness committed"}
{"id":"T2","tp":"auto","a":"Update commands/config.md: add QA Gates to Step 2 interactive options. Add qa_gates settings to Settings Reference table (qa_gates.post_task, qa_gates.post_plan, qa_gates.post_phase, qa_gates.timeout_seconds, qa_gates.failure_threshold). Add Step 2.7 for QA gate toggle interaction.","f":["commands/config.md"],"td":["T1"],"v":"Config.md has QA gates in interactive flow and settings reference table","done":"Config.md QA gate settings committed"}
{"id":"T3","tp":"auto","a":"Write bats tests for updated qa-gate.sh: test config-aware behavior (enabled vs disabled), test backward compatibility (missing qa_gates key = enabled), test fail-open on config read error, test existing structural checks still work. Do NOT test --level dispatch (removed per architecture D7).","f":["tests/qa-gate.bats"],"td":["T1"],"v":"All bats tests pass, covers config-aware behavior, backward compat, and fail-open","done":"Config-aware qa-gate.sh tests committed"}
