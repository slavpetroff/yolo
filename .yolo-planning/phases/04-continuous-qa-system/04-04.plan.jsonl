{"p":"04","n":"04","t":"QA gate JSONL output schemas and reporting","w":2,"d":["04-01","04-03"],"mh":{"tr":["Gate result JSONL is machine-parseable by jq and follows abbreviated key conventions","Each gate level produces distinct JSONL format per artifact-formats.md patterns","Gate results aggregate into phase-level qa-gates.jsonl for dashboard consumption"],"ar":[{"p":"references/artifact-formats.md","pv":"qa-gate-result section exists","c":"Contains JSONL schemas for post-task, post-plan, and post-phase gate results with abbreviated keys"}],"kl":[{"fr":"artifact-formats.md qa-gate schemas","to":"references/qa-output-patterns.md","vi":"JSONL fields map to human-readable output templates from 04-01"},{"fr":"artifact-formats.md qa-gate schemas","to":"references/naming-conventions.md","vi":"File naming follows existing artifact naming patterns"}]}}
{"id":"T1","tp":"auto","a":"Define post-task gate result JSONL schema in references/artifact-formats.md: abbreviated keys (gl=gate_level, r=result, tst=tests, dur=duration_ms, task=task_id, plan=plan_id). Add to Key Dictionary section following existing patterns.","f":["references/artifact-formats.md"],"v":"Post-task gate schema section exists with key table matching existing format","done":"Post-task gate schema documented"}
{"id":"T2","tp":"auto","a":"Define post-plan gate result JSONL schema in references/artifact-formats.md: keys (gl, r, plan, tc=tasks_completed, tt=tasks_total, tst, dur, gates=sub_gate_results). Append after post-task section.","f":["references/artifact-formats.md"],"td":["T1"],"v":"Post-plan gate schema section exists with aggregation fields","done":"Post-plan gate schema documented"}
{"id":"T3","tp":"auto","a":"Define post-phase gate result JSONL schema in references/artifact-formats.md: keys (gl, r, ph=phase, plans=plan_results, tst, dur, esc=escalations). Add qa-gates.jsonl to Phase Directory Structure and naming-conventions.md.","f":["references/artifact-formats.md","references/naming-conventions.md"],"td":["T2"],"v":"Post-phase schema documented, qa-gates.jsonl in directory structure and naming conventions","done":"Post-phase gate schema and naming committed"}
{"id":"T4","tp":"auto","a":"Create scripts/format-gate-result.sh that takes gate level (post-task|post-plan|post-phase) and raw JSON input, outputs properly formatted JSONL line using abbreviated keys. Uses jq for transformation.","f":["scripts/format-gate-result.sh"],"td":["T3"],"v":"Script produces valid JSONL for all three gate levels, set -euo pipefail","done":"Gate result formatter committed"}
{"id":"T5","tp":"auto","a":"Write bats tests for format-gate-result.sh: test each gate level output format, test invalid gate level rejected, test output is valid JSONL parseable by jq. Verify abbreviated keys match artifact-formats.md definitions.","f":["tests/format-gate-result.bats"],"td":["T4"],"v":"All bats tests pass, covers all three levels plus error case","done":"Gate result formatter tests committed"}
