{"p":"04","n":"03","t":"QA gate config schema and defaults","w":2,"d":["04-01","04-02"],"mh":{"tr":["New QA gate config fields have sensible defaults so existing configs work unchanged","Each gate level (post-task, post-plan, post-phase) is independently toggleable","Config changes validated by validate-plan.sh and jq-parseable"],"ar":[{"p":"config/defaults.json","pv":"qa_gates key exists with three sub-keys","c":"Contains post_task, post_plan, post_phase enable/disable toggles plus timeout and threshold settings"}],"kl":[{"fr":"config/defaults.json qa_gates","to":"REQ-07 gate definitions","vi":"Each gate level from REQ-07 has a corresponding config toggle"},{"fr":"config/defaults.json qa_gates","to":"references/qa-output-patterns.md gate levels","vi":"Config gate names match output pattern gate levels from 04-01"}]}}
{"id":"T1","tp":"auto","a":"Add qa_gates object to config/defaults.json with three sub-keys: post_task (true), post_plan (true), post_phase (true), plus timeout_seconds (300) and failure_threshold (critical). All defaults enable gates so continuous QA is on by default.","f":["config/defaults.json"],"v":"qa_gates key exists in defaults.json with all five fields, valid JSON","done":"qa_gates config defaults committed"}
{"id":"T2","tp":"auto","a":"Add qa_gates fields to all three test fixture configs (balanced, quality, budget). Quality: all gates on, timeout 600. Balanced: all gates on, timeout 300. Budget: post_task off, post_plan on, post_phase on, timeout 120.","f":["tests/fixtures/config/balanced-config.json","tests/fixtures/config/quality-config.json","tests/fixtures/config/budget-config.json"],"td":["T1"],"v":"All three fixture configs have valid qa_gates objects, jq-parseable","done":"Fixture configs updated with qa_gates"}
{"id":"T3","tp":"auto","a":"Create scripts/resolve-qa-config.sh that reads qa_gates from config.json with graceful fallback to defaults.json when keys are missing. Output: JSON object with resolved gate settings. Uses jq // operator for backward compat.","f":["scripts/resolve-qa-config.sh"],"td":["T1"],"v":"Script outputs valid JSON, handles missing keys with defaults, set -euo pipefail","done":"resolve-qa-config.sh committed"}
{"id":"T4","tp":"auto","a":"Write bats tests for resolve-qa-config.sh: test default resolution, test per-gate override, test missing qa_gates key fallback, test invalid values rejected. Place in tests/ following existing test patterns.","f":["tests/resolve-qa-config.bats"],"td":["T3"],"v":"All bats tests pass, covers default, override, fallback, and invalid cases","done":"QA config resolution tests committed"}
{"id":"T5","tp":"auto","a":"Add qa_gates config validation to scripts/validate-config.sh (or create if not exists): verify qa_gates.post_task/post_plan/post_phase are booleans, timeout_seconds is positive integer, failure_threshold is one of critical/major/minor. Return structured error JSON on invalid.","f":["scripts/validate-config.sh"],"td":["T3"],"v":"Validation catches invalid qa_gates values, passes on valid configs","done":"Config validation for qa_gates committed"}
