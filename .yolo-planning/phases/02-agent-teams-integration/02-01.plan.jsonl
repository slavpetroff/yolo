{"p":"02-01","n":"Team Lifecycle Scripts","t":4,"w":1,"d":[],"mh":{"tr":["spawnTeam creates one team per active department","shutdown_request message gracefully terminates teams","Single-dept mode falls back to Task tool spawning (no regression)"],"ar":[{"p":"scripts/spawn-team.sh","pv":"bash scripts/spawn-team.sh --dept backend --phase 1 --phase-dir .yolo-planning/phases/01-test/ outputs team_id and agent list","c":"Outputs team_id line for each spawned team"},{"p":"scripts/shutdown-team.sh","pv":"bash scripts/shutdown-team.sh --team-id T1 sends shutdown_request and waits","c":"Sends shutdown_request SendMessage, waits for response or timeout"},{"p":"config/team-profiles.json","pv":"jq '.departments.backend.roles | length' config/team-profiles.json returns role count","c":"JSON file with per-department team composition"}],"kl":[{"fr":"config/team-profiles.json","to":"scripts/spawn-team.sh","vi":"spawn-team reads team-profiles to determine which agents to create per department"},{"fr":"scripts/spawn-team.sh","to":"scripts/shutdown-team.sh","vi":"shutdown-team uses team_id from spawn-team output"}]},"obj":"Create team lifecycle management scripts (spawn-team.sh, shutdown-team.sh) and team configuration (team-profiles.json) that map departments to Teammate API calls.","sk":["commit"],"fm":["scripts/spawn-team.sh","scripts/shutdown-team.sh","config/team-profiles.json","tests/unit/spawn-team.bats"]}
{"id":"02-01-01","n":"Create team profiles configuration","f":["config/team-profiles.json"],"d":[],"ac":["config/team-profiles.json exists with 4 department entries: backend, frontend, uiux, shared","Each department lists roles with agent name, model tier, and tools","backend has 7 roles: architect, lead, senior, dev, tester, qa, qa-code","frontend has 7 roles: fe-architect, fe-lead, fe-senior, fe-dev, fe-tester, fe-qa, fe-qa-code","uiux has 7 roles: ux-architect, ux-lead, ux-senior, ux-dev, ux-tester, ux-qa, ux-qa-code","shared has 5 roles: owner, critic, scout, debugger, security","Each role has: agent_name (yolo-{name}), model_tier (opus/sonnet/haiku matching company-hierarchy.md), lead flag (boolean)","JSON is valid and parseable by jq"]}
{"id":"02-01-02","n":"Create spawn-team.sh script","f":["scripts/spawn-team.sh"],"d":["02-01-01"],"ac":["scripts/spawn-team.sh exists and is executable","Accepts --dept, --phase, --phase-dir, --config flags","Reads team-profiles.json to determine roles for the department","Outputs structured key=value: team_id, agents (comma-separated), lead_agent","When config agent_teams=false or missing, outputs fallback=true (Task tool mode)","Validates department is enabled in config before spawning","Uses resolve-agent-model.sh to determine model for each agent","Outputs spawnTeam instruction block (agent list with roles and models) per Teammate API format","Exits 0 on success, 1 on invalid args, 2 on disabled department"]}
{"id":"02-01-03","n":"Create shutdown-team.sh script","f":["scripts/shutdown-team.sh"],"d":["02-01-02"],"ac":["scripts/shutdown-team.sh exists and is executable","Accepts --team-id and --timeout (default 30s) flags","Outputs SendMessage shutdown_request instruction for the team lead","Tracks shutdown acknowledgment with timeout","Outputs structured result: status=shutdown|timeout, agents_stopped count","Handles edge cases: team not found, lead unresponsive (timeout fallback)","Exits 0 on success, 1 on timeout (with warning)"]}
{"id":"02-01-04","n":"Write team lifecycle tests","f":["tests/unit/spawn-team.bats","tests/unit/shutdown-team.bats"],"d":["02-01-02","02-01-03"],"ac":["tests/unit/spawn-team.bats has minimum 8 tests","Tests cover: valid backend spawn, valid frontend spawn, disabled department rejection, missing config fallback, agent_teams=false fallback, model resolution per role, output format validation, invalid args error","tests/unit/shutdown-team.bats has minimum 5 tests","Tests cover: valid shutdown output, timeout flag, missing team-id error, output format validation, graceful degradation","All tests pass with bats"]}
