---
phase: "05"
plan: "01"
title: "Update documentation for 8-agent roster and new Rust commands"
wave: 1
depends_on: []
must_haves:
  - "README.md lists all 8 agents with tools and descriptions"
  - "ARCHITECTURE.md documents 8 agents and 5 new QA commands"
  - "CONCERNS.md has accurate test counts"
  - "tier_context.rs has qa in execution family"
---

# Plan 01: Update Documentation for 8-Agent Roster and New Rust Commands

## Goal

Update README.md, ARCHITECTURE.md, and CONCERNS.md to reflect the complete 8-agent roster (architect, debugger, dev, docs, lead, qa, researcher, reviewer), 5 new QA Rust commands, and accurate test counts.

## Tasks

### Task 1: Update README.md agent table and references

**Files:** `README.md`

**Read README.md first.** Find the agents table (around line 195-207) which currently lists 5 agents.

**Update the agents table to include all 8:**

| Agent | Role | Tools | Mode |
|-------|------|-------|------|
| Architect | Requirements-to-roadmap, phase decomposition | Read, Glob, Grep, Write | acceptEdits |
| Lead | Planning orchestrator, plan decomposition | Read, Glob, Grep, Write, Bash | acceptEdits |
| Dev | Execution swarm, implements with parallel coordination | All tools | acceptEdits |
| Debugger | Scientific method bug hunting | Read, Grep, Glob, Bash | plan |
| Docs | Documentation specialist | Read, Grep, Glob, Bash, Write, Edit | acceptEdits |
| Researcher | Internet research + documentation lookups | Read, Glob, Grep, Bash, Write, WebFetch, WebSearch | acceptEdits |
| Reviewer | Adversarial design critique, plan quality gate | Read, Glob, Grep, Bash | default |
| QA | Delivery verification, regression checking | Read, Glob, Grep, Bash | default |

**Also update:**
- Any "5 agents" references → "8 agents" (search for "5 agent" and "five agent")
- The architecture overview section if it mentions agent count

**Verification:** `grep -c "Researcher\|Reviewer\|QA" README.md` returns 3+.

### Task 2: Update ARCHITECTURE.md agent roster and commands

**Files:** `.yolo-planning/codebase/ARCHITECTURE.md`

**Read ARCHITECTURE.md first.** Find the agent definitions section (around line 41).

**Update:**
- Agent count: "5 agents" → "8 agents"
- Add entries for researcher, reviewer, qa agents with their tools and family assignments
- Document the 5 new QA Rust commands in the commands section:
  - `verify-plan-completion` — cross-references SUMMARY vs PLAN
  - `commit-lint` — validates conventional commit format
  - `check-regression` — counts tests, flags regressions
  - `diff-against-plan` — compares declared vs actual git files
  - `validate-requirements` — checks must_haves against evidence
- Document the `review-plan` command from Phase 3
- Update total command count if mentioned
- Note the review_gate and qa_gate config options

**Verification:** `grep -c "yolo-qa\|yolo-researcher\|yolo-reviewer" .yolo-planning/codebase/ARCHITECTURE.md` returns 3+.

### Task 3: Refresh CONCERNS.md with accurate test counts

**Files:** `.yolo-planning/codebase/CONCERNS.md`

**Read CONCERNS.md first.**

**Update test counts:**
1. Run `cargo test -p yolo-mcp-server -- --list 2>/dev/null | grep ':: test' | wc -l` for Rust test count
2. Count bats test files: `find tests/ -name '*.bats' | wc -l`
3. Count bats test functions: `grep -r '@test' tests/*.bats | wc -l`
4. Calculate total: Rust tests + bats functions

**Update the document with accurate numbers.**

**Verification:** CONCERNS.md has updated test counts matching actual values.

### Task 4: Verify tier_context.rs has QA in execution family

**Files:** `yolo-mcp-server/src/commands/tier_context.rs`

**Read the `role_family()` function.** Verify:
- "qa" maps to "execution" family
- "researcher" maps to "planning" family
- "reviewer" maps to "planning" family

If any are missing, add them. If all are present, no changes needed — just verify.

**Verification:** `grep -A5 "role_family" yolo-mcp-server/src/commands/tier_context.rs` shows all 3 new agents.
