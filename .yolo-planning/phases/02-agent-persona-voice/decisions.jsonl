{"ts":"2026-02-18T23:01:00Z","agent":"architect","task":"scoping","dec":"Phase 02 covers all 26 agents with a new '## Persona & Voice' section in each .md file","reason":"REQ-11 requires ALL agents to use domain-authentic language. Adding a dedicated section ensures consistency and testability. Builds on REQ-06 review-ownership-patterns.md but broadens scope from 16 reviewing agents to all 26.","alts":["Inline persona into existing sections — harder to test, less visible","Single reference doc instead of per-agent — agents would miss it during context compilation"]}
{"ts":"2026-02-18T23:01:01Z","agent":"architect","task":"scoping","dec":"Group agents by role archetype for persona template efficiency: PO, EM, Senior IC, IC, QA, Research","reason":"26 agents share 11 base role archetypes across 4 departments (backend + 3 dept variants each). Define persona templates per archetype, then adapt per department. Reduces duplication: FE-Lead mirrors BE-Lead with frontend domain substitution.","alts":["Write each agent independently — 26 unique persona blocks, heavy duplication","Reference-only approach — agents need persona in their own prompt for reliable adoption"]}
{"ts":"2026-02-18T23:01:02Z","agent":"architect","task":"scoping","dec":"Phase 02 must complete before Phase 03 starts","reason":"Phase 03 (handoff language) references persona voice tone. If handoff templates say 'As PO I hand off to my Lead', the PO persona definition must already exist in the Owner agent prompt. Otherwise handoff language has no grounding.","alts":["Run Phases 02 and 03 in parallel — risk of inconsistent voice between persona and handoff","Merge into single phase — too large, 5+ plans would exceed the 3-5 plan limit"]}
{"ts":"2026-02-18T23:30:00Z","agent":"lead","task":"decomposition","dec":"Split 26 agents into 4 plans: backend-core (wave 1), backend-QA+shared (wave 1), frontend-dept (wave 2), ux-dept+tests+ref (wave 2)","reason":"Wave 1 plans can run in parallel (backend core vs QA+shared have no file overlap). Wave 2 plans depend on wave 1 for persona archetype consistency before mirroring. Static tests belong in wave 2 plan 04 so tests are written after all UX agents complete (TD chain ensures correct task order).","alts":["3 plans (backend/shared, frontend, ux+tests) — backend core and QA agents share enough archetype overlap that splitting is appropriate; 7 tasks in one plan exceeds max-5 constraint","5 plans (separate shared agents) — adds unnecessary plan overhead; scout+debugger are both investigative agents that share enough characteristics to group"]}
{"ts":"2026-02-18T23:30:01Z","agent":"lead","task":"file-grouping","dec":"Group backend QA pair (qa, qa-code) in one task; group scout+debugger in one task; group fe-lead+fe-senior in one task; group ux-architect+ux-lead in one task","reason":"Co-located roles with the same archetype (QA pair, investigative pair) share enough professional domain overlap that grouping them in one Dev task is coherent and reduces total task count within per-plan limits. Grouping avoids exceeding 5 tasks/plan while keeping related work together.","alts":["Each agent as its own task — would require 26 tasks across 6+ plans, too many plans","Group all FE agents in one task — too many files for one atomic commit"]}
{"ts":"2026-02-18T23:30:02Z","agent":"lead","task":"test-ordering","dec":"Static test T5 in plan 02-04 has td dependency on T1+T2+T3 within the plan","reason":"The bats test file verifies all 26 agents have Persona & Voice sections. Writing it before the UX agents are updated (T1-T3) would create a test that immediately fails for the wrong reason during Dev execution. The td dependency ensures Dev writes UX agent sections first, then writes the test that validates all sections.","alts":["Write tests first (TDD for test file itself) — the test IS the artifact being created, not a test for another feature; ts field left empty for this reason","Write tests in wave 3 — would require a third wave adding complexity; intra-plan td is simpler"]}
{"ts":"2026-02-18T23:45:00Z","agent":"architect","task":"architecture","dec":"TD1: Canonical placement — after Hierarchy, or after intro if no Hierarchy. Rename-in-place for existing sections.","reason":"R2.2 confirms 21/26 have Hierarchy. R2.4 shows existing pattern. Consistent anchor avoids per-agent guessing. Addresses C1.","alts":["After Escalation Table — inconsistent across agents","Before Hierarchy — breaks reading flow"]}
{"ts":"2026-02-18T23:45:01Z","agent":"architect","task":"architecture","dec":"TD2: Four-part subsection structure (Professional Archetype, Vocabulary Domains, Communication Standards, Decision-Making Framework). 8-15 lines target.","reason":"R1.3 confirms modular bullet structure outperforms prose. R1.2 confirms archetype+seniority changes output. Rigid structure ensures consistency across 4 parallel Devs. Addresses C3, C8.","alts":["Freeform prose — inconsistent across Devs","Two-part only — misses communication style where personas are most effective (R1.4)"]}
{"ts":"2026-02-18T23:45:02Z","agent":"architect","task":"architecture","dec":"TD3: Vocabulary domain constraints, not example phrases. ROADMAP phrases are reviewer validation examples only.","reason":"User explicit: no example phrases. R1.1 confirms domain constraints outperform vague admonitions. Addresses C2.","alts":["Include example phrases — contradicts user directive","Archetype only without vocabulary — too vague"]}
{"ts":"2026-02-18T23:45:03Z","agent":"architect","task":"architecture","dec":"TD4: Static test validates 5 checks — existence, non-empty (4+ lines), no old heading, subsection presence, no example phrases.","reason":"C4 correctly flags existence-only as insufficient. Structural validation catches stubs. Uniqueness impractical due to dept mirroring. Addresses C4.","alts":["Uniqueness check — FE mirrors backend legitimately","Content quality scoring — subjective, no deterministic threshold"]}
{"ts":"2026-02-18T23:45:04Z","agent":"architect","task":"architecture","dec":"TD5: Preserve-first strategy for 19 existing sections. Restructure into 4-part format, do not replace.","reason":"R3.1-R3.2 confirm existing content is functional/behavioral. Loss would break agent operation. Addresses C10.","alts":["Replace entirely — loses functional frameworks","Keep old + add new — two persona sections confuses LLM"]}
{"ts":"2026-02-18T23:45:05Z","agent":"architect","task":"architecture","dec":"TD6: Defer LLM efficacy testing. Phase 03 handoff language serves as integration test. Phase 02 validates structure only.","reason":"C6 gap acknowledged. R1.4 confirms personas shape tone not accuracy — measuring tone programmatically is non-deterministic. Addresses C6.","alts":["LLM-as-judge step — expensive, non-deterministic","Skip all validation — loses structural QA"]}
{"ts":"2026-02-18T23:55:00Z","agent":"senior","task":"T1","dec":"Architect persona preserves escalation scope content ('Final technical escalation point') within the restructured 4-part format rather than dropping it","reason":"TD5 mandates preserve-first. This content is functional — it defines who can reach the Architect. Dropping it would remove an operational constraint. Maps to Communication Standards subsection.","alts":["Drop escalation scope as redundant with Escalation Table — loses inline authority signal"]}
{"ts":"2026-02-18T23:55:01Z","agent":"senior","task":"T2","dec":"Lead placement corrected from 'after Escalation Table' (plan task description) to 'after intro paragraph, before Escalation Table' per TD1","reason":"TD1 explicitly names Lead as an agent without ## Hierarchy heading. C1 addressed this exact inconsistency. Architecture decision overrides original plan task description.","alts":["Follow plan task description literally — contradicts TD1 and C1 resolution"]}
{"ts":"2026-02-18T23:55:02Z","agent":"senior","task":"T3-T4","dec":"Senior and Dev placement corrected from 'after Escalation Table' to 'after ## Hierarchy' per TD1","reason":"Both agents have ## Hierarchy sections. TD1 canonical rule: after Hierarchy. Plan task descriptions said 'after Escalation Table' which was the pre-architecture placement. Architecture decision takes precedence.","alts":["After Escalation Table — original plan wording, contradicts TD1"]}
{"ts":"2026-02-18T23:55:03Z","agent":"senior","task":"T5","dec":"Tester confirmed as new-section insert (not rename) — R2.1 shows tester is one of 7 agents without existing Persona & Expertise","reason":"Plan task description hedged with 'if present'. Research R2.1 confirms absence. Spec clarifies: this is definitively a new section insert, not a rename.","alts":["Treat as rename — no section exists to rename, would cause Dev confusion"]}
