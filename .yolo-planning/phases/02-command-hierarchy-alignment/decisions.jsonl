{"ts":"2026-02-16T12:00:00Z","agent":"lead","task":"02-*","dec":"One plan per command rewrite (4 plans, all wave 1)","reason":"Each command is independent -- no shared code, no dependency between rewrites. Parallel execution possible. Atomic commits per command.","alts":["Single plan with 4 tasks (one per command)","Two plans: simple commands (fix,research) + complex commands (debug,qa)"]}
{"ts":"2026-02-16T12:00:00Z","agent":"lead","task":"02-*","dec":"3 tasks per plan: rewrite Steps, add Escalation docs, verify coherence","reason":"Consistent structure across all 4 plans. Step rewrite is the main work, escalation docs enforce hierarchy rules, coherence check ensures lightweight spirit preserved.","alts":["2 tasks: rewrite + verify","4 tasks: rewrite Steps, rewrite Present, add Escalation, verify"]}
{"ts":"2026-02-16T12:00:00Z","agent":"lead","task":"02-*","dec":"Lead is primary spawn in all commands, specialist agents spawned by Lead not command","reason":"REQ-02 requires full hierarchy. Lead is the natural dispatcher -- scopes work before delegating. Commands become thin routing layers to Lead.","alts":["Owner as primary spawn (too heavy for lightweight commands)","Keep direct specialist spawn with Lead review after (violates hierarchy)"]}
{"ts":"2026-02-16T12:00:00Z","agent":"lead","task":"02-*","dec":"Line count limits: debug<=120, fix<=80, research<=80, qa<=110","reason":"Key constraint from task: commands are intentionally lightweight. Must not become full 10-step execute protocol runs. Line limits enforce brevity.","alts":["No line limits (risk bloat)","Uniform 100-line limit (too tight for qa.md, too loose for fix.md)"]}
{"ts":"2026-02-16T14:00:00Z","agent":"senior","task":"02-01/T1","dec":"Pass downstream agent models to Lead in prompt rather than having Lead resolve them","reason":"Command already resolves models via resolve-agent-model.sh. Passing pre-resolved models to Lead avoids duplicate resolution calls and ensures consistency. Lead uses them when spawning Debugger/Scout/Dev/QA subagents.","alts":["Lead resolves models itself (duplicate work, inconsistent if config changes mid-run)","Hardcode models in Lead prompt (violates config-driven design)"]}
{"ts":"2026-02-16T14:00:00Z","agent":"senior","task":"02-02/T1","dec":"fix.md Lead uses trivial/needs-spec triage classification","reason":"Preserves turbo-mode spirit for simple fixes (Lead->Dev, 1 hop) while enforcing hierarchy for complex fixes (Lead->Senior->Dev, 2 hops). Threshold: single-file + <10 lines = trivial.","alts":["Always route through Senior (overkill for typo fixes)","Always direct to Dev (violates hierarchy for risky changes)"]}
{"ts":"2026-02-16T14:00:00Z","agent":"senior","task":"02-03/T1","dec":"Lead handles research.jsonl persistence instead of command","reason":"Command becomes thin routing layer. Lead has the synthesized findings and can write JSONL directly. Persist decision (save y/n) flows back to go.md caller.","alts":["Command writes research.jsonl after Lead returns (adds command complexity)","Scout writes research.jsonl directly (bypasses Lead synthesis)"]}
{"ts":"2026-02-16T14:00:00Z","agent":"senior","task":"02-04/T1","dec":"qa.md Lead dispatches QA Lead and QA Code as separate subagents, synthesizes into unified verdict","reason":"Matches execute-protocol.md Step 8 pattern where QA Lead handles plan-level and QA Code handles code-level. Lead synthesis produces one PASS/FAIL/PARTIAL for the command output.","alts":["Single QA agent doing both (misses code-level depth)","Command synthesizes (violates thin routing layer principle)"]}
{"ts":"2026-02-16T14:00:00Z","agent":"senior","task":"02-*/T2","dec":"Escalation sections use compact bullet format, 6-10 lines max","reason":"Line count budgets are tight. Escalation docs must exist (REQ-02) but cannot bloat the file. Compact bullets with agent->agent format convey chain clearly.","alts":["Full table format (too many lines)","Inline in Steps (harder to find, mixes concerns)"]}
