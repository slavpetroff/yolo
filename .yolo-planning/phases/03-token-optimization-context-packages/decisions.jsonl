{"ts":"2026-02-16T22:00:00Z","agent":"lead","task":"phase-3-decomposition","dec":"4 plans across 2 waves: script offloading (W1) + reference packages (W1) then tool permissions (W2) + integration (W2)","reason":"Wave 1 plans have zero file overlap and can execute in parallel. Wave 2 plans depend on Wave 1 outputs but not on each other.","alts":["3 plans (merge scripts + packages into one large plan)","5 plans (split integration into protocol update + context update)"]}
{"ts":"2026-02-16T22:01:00Z","agent":"lead","task":"phase-3-decomposition","dec":"3 new scripts for REQ-04: validate-plan.sh, validate-gates.sh, generate-execution-state.sh","reason":"These 3 replace the most token-heavy LLM work: plan structure validation (QA agent), gate artifact checking (execute-protocol inline), and state JSON construction (Step 3 inline). Each is deterministic and needs no LLM reasoning.","alts":["validate-summary.sh (already exists)","generate-summary-scaffold.sh (lower token savings, summary content needs LLM)"]}
{"ts":"2026-02-16T22:02:00Z","agent":"lead","task":"phase-3-decomposition","dec":"Reference packages as static TOON files in references/packages/, generated by build-reference-packages.sh","reason":"Per-role packages are deterministic extracts from execute-protocol.md. A script can extract the right sections via awk. Static files avoid runtime generation overhead. TOON format matches existing compile-context.sh patterns.","alts":["Dynamic extraction at compile-context.sh runtime (slower, redundant work per invocation)","Manual per-role reference files (unmaintainable, drift from source)"]}
{"ts":"2026-02-16T22:03:00Z","agent":"lead","task":"phase-3-decomposition","dec":"Tool permissions resolved at runtime via config+script, not by modifying agent YAML files","reason":"Agent YAML files are static plugin assets. Modifying them per-project would break the plugin model. Runtime resolution via resolve-tool-permissions.sh + config/tool-permissions.json preserves static YAMLs while enabling dynamic adaptation.","alts":["Generate project-specific agent YAML copies (complex, maintenance burden)","Per-project overrides in .yolo-planning/config.json (mixing concerns)"]}
