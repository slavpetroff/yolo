{"p": "05", "n": "03", "t": "Wire downward resolution path -- user feedback to Dev", "w": 2, "d": ["01", "02"], "mh": {"tr": ["Senior agent prompt documents receiving escalation_resolution and translating to Dev instructions", "Dev agent prompt documents receiving resolution-driven spec updates", "Owner agent prompt documents receiving user feedback and routing to Leads", "company-hierarchy.md documents full round-trip including downward path"], "ar": [{"f": "agents/yolo-senior.md", "contains": "Resolution Routing"}, {"f": "agents/yolo-dev.md", "contains": "Escalation Resolution"}, {"f": "agents/yolo-owner.md", "contains": "Resolution Routing"}, {"f": "references/company-hierarchy.md", "contains": "Escalation Round-Trip"}], "kl": [{"from": "commands/go.md", "to": "agents/yolo-owner.md", "rel": "go.md passes user decision to Owner for routing"}, {"from": "agents/yolo-owner.md", "to": "agents/yolo-lead.md", "rel": "Owner routes resolution to department Lead"}, {"from": "agents/yolo-lead.md", "to": "agents/yolo-senior.md", "rel": "Lead forwards resolution to Senior who originated escalation"}, {"from": "agents/yolo-senior.md", "to": "agents/yolo-dev.md", "rel": "Senior translates resolution into updated spec or instructions for Dev"}]}, "obj": "Wire the downward path so user decisions flow back to unblock Dev (REQ-09): User->go.md->Owner/Architect->Lead->Senior->Dev with verification at each level", "sk": ["commit"]}
{"id": "T1", "a": "Add ## Resolution Routing section to agents/yolo-owner.md (after Mode 2: Conflict Resolution). Document: (1) Owner receives user feedback via go.md (as escalation_resolution from go.md proxy), (2) Owner identifies which department Lead originated the escalation, (3) Owner adds strategic context to resolution if needed (e.g., priority implications), (4) Owner forwards escalation_resolution to the correct Lead via file-based artifact (write .escalation-resolution-{dept}.json), (5) Owner logs the resolution in decisions.jsonl. Note: Owner is read-only so resolution routing uses the existing owner_review communication pattern (file artifacts that Leads read). REQ-09.", "f": ["agents/yolo-owner.md"], "v": "grep -q 'Resolution Routing' agents/yolo-owner.md", "done": "Owner agent prompt has Resolution Routing section with receive-assess-forward protocol", "tp": "docs"}
{"id": "T2", "a": "Add ## Resolution Routing section to agents/yolo-senior.md (after ## Escalation Table). Document: (1) Senior receives escalation_resolution from Lead, (2) Senior maps the decision to concrete Dev instructions: if resolution changes spec, Senior re-enriches affected task spec field; if resolution is 'proceed as-is', Senior confirms Dev can continue; if resolution is 'change approach', Senior writes new code_review_changes with exact fix instructions, (3) Senior sends instructions to Dev via code_review_changes schema (reuse existing pattern), (4) Senior verifies Dev acknowledges and resumes. Include verification gate: Senior confirms Dev has unblocked before marking escalation resolved. REQ-09.", "f": ["agents/yolo-senior.md"], "v": "grep -q 'Resolution Routing' agents/yolo-senior.md", "done": "Senior agent prompt has Resolution Routing section with resolution-to-Dev-instruction translation", "tp": "docs"}
{"id": "T3", "a": "Add ## Escalation Resolution section to agents/yolo-dev.md (after ## Escalation Table). Document: (1) When Dev has an outstanding escalation (sent dev_blocker and waiting), Dev pauses current task and may work on other unblocked tasks if in teammate mode, (2) On receiving updated instructions from Senior (via code_review_changes or updated spec), Dev reads new instructions, (3) Dev resumes the blocked task with the resolution applied, (4) Dev commits with message referencing the escalation: fix({phase}-{plan}): resolve blocker {description}. REQ-09.", "f": ["agents/yolo-dev.md"], "v": "grep -q 'Escalation Resolution' agents/yolo-dev.md", "done": "Dev agent prompt has Escalation Resolution section documenting pause-receive-resume protocol", "tp": "docs"}
{"id": "T4", "a": "Update references/company-hierarchy.md ## Escalation Chain section to add a new ## Escalation Round-Trip subsection. Document the full bidirectional flow: UPWARD (Dev->Senior->Lead->Architect/Owner->User) and DOWNWARD (User->go.md->Owner/Architect->Lead->Senior->Dev). At each level, document what transformation happens: Senior adds context, Lead assesses authority, Architect evaluates design impact, Owner checks cross-dept implications. At each downward level: Owner adds strategic context, Lead routes to correct Senior, Senior translates to Dev instructions. Add verification: each level confirms the resolution was received and acted on before marking complete. REQ-08, REQ-09.", "f": ["references/company-hierarchy.md"], "v": "grep -q 'Escalation Round-Trip' references/company-hierarchy.md", "done": "company-hierarchy.md has Escalation Round-Trip section documenting full bidirectional flow with per-level transformations", "tp": "docs"}
{"id": "T5", "a": "Update references/execute-protocol.md Step 7 (Implementation) to add escalation-aware behavior: (1) After Dev sends dev_blocker via Senior, the orchestrator tracks the escalation in .execution-state.json under a new escalations array with fields: id, task, severity, status (pending|resolved), escalated_at, resolved_at, (2) If escalation.timeout_seconds elapsed and status still pending, auto-escalate to next level per the Escalation Handling section added in Plan 05-02, (3) When escalation_resolution received, update status to resolved and record resolved_at, (4) Add verification gate: before marking implementation step complete, verify no escalations have status=pending (all must be resolved or timed-out-and-escalated). REQ-08, REQ-09.", "f": ["references/execute-protocol.md"], "v": "grep -q 'escalations' references/execute-protocol.md", "done": "execute-protocol.md Step 7 tracks escalations in execution state with timeout-based auto-escalation and completion verification gate", "tp": "docs"}
