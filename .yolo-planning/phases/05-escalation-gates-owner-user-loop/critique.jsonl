{"id":"C1","cat":"contradiction","sev":"critical","title":"Owner is read-only but Plan 05-03 T1 requires Owner to write file artifacts","detail":"Plan 05-03 T1 instructs Owner to write .escalation-resolution-{dept}.json but yolo-owner.md has disallowedTools: Edit, Write, Bash. Owner cannot write files. Resolution routing must go through go.md as Owner proxy or use message-based communication.","recommendation":"Owner returns resolution via Task tool result or SendMessage. go.md writes file artifacts on Owner's behalf. Option: Owner returns analysis, go.md/Lead writes .escalation-resolution-{dept}.json.","affects":["05-03"],"st":"addressed","resolution":"D1: Owner sends resolution via SendMessage/Task result. go.md/Lead writes file artifact on Owner's behalf. Plan 05-03 T1 rescoped."}
{"id":"C2","cat":"gap","sev":"critical","title":"Architect has no AskUserQuestion tool - cannot call it directly","detail":"Plan 05-02 T4 describes Architect AskUserQuestion protocol but Architect's tool list does not include AskUserQuestion. Architect must package escalation for go.md to present, not call AskUserQuestion directly.","recommendation":"Clarify Plan 05-02 T4: Architect packages structured escalation with options into Task result. go.md receives and presents via AskUserQuestion. Update must-have truth accordingly.","affects":["05-02"],"st":"addressed","resolution":"D2: Architect packages structured escalation with options array via SendMessage to Lead. Lead forwards to go.md which calls AskUserQuestion."}
{"id":"C3","cat":"gap","sev":"major","title":"No teammate mode handling in escalation round-trip","detail":"Entire design assumes task mode. In teammate mode: intra-team escalation uses SendMessage, but Owner is not in any team. Lead-to-Owner needs file-based communication. Resolution flow back needs both file-based and SendMessage paths.","recommendation":"Add [teammate] blocks to Escalation Handling section. Intra-team via SendMessage, cross-boundary via file artifacts (existing pattern).","affects":["05-02","05-03"],"st":"addressed","resolution":"D3: Intra-team via SendMessage, cross-team/Owner via file-based artifacts. [teammate] blocks required in Plans 05-02 and 05-03."}
{"id":"C4","cat":"risk","sev":"major","title":"Timeout auto-escalation could create duplicate escalations","detail":"No deduplication mechanism. If Lead is working on resolution when timeout fires, both Lead and Architect try to resolve same blocker. max_round_trips scope unclear (per-escalation or per-phase).","recommendation":"Add level tracking per escalation. Timeout only fires if current level has not already escalated upward. max_round_trips per-escalation-id. Add last_escalated_at field.","affects":["05-01","05-02","05-03"],"st":"addressed","resolution":"D4: Level tracking per escalation with last_escalated_at. Auto-escalation only fires if current level has not escalated upward. max_round_trips per-escalation-id."}
{"id":"C5","cat":"gap","sev":"major","title":"validate-send-message.sh does not do schema type validation - task is no-op","detail":"Script checks cross-department boundaries, not schema types. Adding schema type recognition is new functionality beyond what plan describes. Task as written has nothing to change.","recommendation":"Remove T4 from Plan 05-01 or redefine as new schema-type validation functionality. Removing is simpler and avoids scope creep.","affects":["05-01"],"st":"addressed","resolution":"D5: Plan 05-01 T4 removed. validate-send-message.sh is department boundary only. Schema type validation belongs in agent prompts."}
{"id":"C6","cat":"gap","sev":"major","title":"Dev pause mechanism undefined for both modes","detail":"In task mode Dev cannot pause - blocked Task session. In teammate mode no escalation_pending task status exists for claim loop exclusion.","recommendation":"Task mode: orchestrator tracks escalation, re-spawns Dev after resolution. Teammate mode: add escalation_pending status to TaskUpdate. Document both in execute-protocol.md Step 7.","affects":["05-03"],"st":"addressed","resolution":"D6: Task mode -- orchestrator tracks, does not assign next task. Teammate mode -- claim loop naturally filters available tasks, Dev works other unblocked tasks while waiting."}
{"id":"C7","cat":"risk","sev":"major","title":"Wave 1 inter-plan dependency - 05-02 references schemas from 05-01","detail":"Both plans Wave 1 with d:[]. 05-02 T1 references escalation_resolution schema and timeout config defined by 05-01. If 05-02 Dev executes first, schema references don't exist yet.","recommendation":"Both are docs tasks modifying different files. Forward references work. But safer to add 05-01 as dependency of 05-02 or ensure 05-01 executes first.","affects":["05-01","05-02"],"st":"addressed","resolution":"D7: Wave 1 parallel is safe. Both modify different files. Forward references work for docs tasks. No dependency change needed."}
{"id":"C8","cat":"improvement","sev":"major","title":"No crash recovery for mid-step escalation state","detail":"Escalation state changes happen mid-Step-7 but .execution-state.json committed at step transitions. Session crash loses in-flight escalation.","recommendation":"Commit escalation state immediately on receipt. On resume, check pending escalations with age > timeout and auto-escalate.","affects":["05-03"],"st":"addressed","resolution":"D8: Escalation state committed immediately on receipt. check-escalation-timeout.sh detects stale escalations on resume for auto-escalation."}
{"id":"C9","cat":"gap","sev":"minor","title":"No CONCERNS.md update for escalation timeout risks","detail":"Plan 05-04 T4 updates ARCHITECTURE.md and INDEX.md but not CONCERNS.md. New risk vectors: false-positive timeouts, unbounded escalation array, short timeout for complex decisions.","recommendation":"Add CONCERNS.md update to Plan 05-04 T4.","affects":["05-04"],"st":"addressed","resolution":"Plan 05-04 T4 scope expanded to include CONCERNS.md update with escalation timeout risk vectors."}
{"id":"C10","cat":"gap","sev":"minor","title":"Schema count and PATTERNS.md not updated","detail":"Two new schemas bring total from 27 to 29. INDEX.md and PATTERNS.md would be inaccurate.","recommendation":"Include schema count update in Plan 05-04 T4.","affects":["05-04"],"st":"addressed","resolution":"Plan 05-04 T4 scope expanded to include PATTERNS.md (Pattern #14: Escalation Round-Trip) and INDEX.md schema count update (27->29)."}
{"id":"C11","cat":"improvement","sev":"minor","title":"check-escalation-timeout.sh could integrate with validate-gates.sh","detail":"Standalone script means orchestrator must call it separately. Could be part of Step 7 exit gate in validate-gates.sh.","recommendation":"Consider calling from validate-gates.sh for Step 7 exit gate. Not blocking.","affects":["05-04"],"st":"addressed","resolution":"check-escalation-timeout.sh called from validate-gates.sh for Step 7 exit gate. Standalone script also remains for orchestrator periodic checking."}
