{"p": "05", "n": "02", "t": "Wire upward escalation path -- blocker to user", "w": 1, "d": [], "mh": {"tr": ["execute-protocol.md has explicit escalation handling section with AskUserQuestion usage", "go.md Owner proxy handles escalation presentation to user", "Lead agent prompt documents escalation receipt and upward routing", "Architect escalation to user uses AskUserQuestion with structured options"], "ar": [{"f": "references/execute-protocol.md", "contains": "Escalation Handling"}, {"f": "commands/go.md", "contains": "Escalation from agents"}, {"f": "agents/yolo-lead.md", "contains": "Escalation Receipt"}], "kl": [{"from": "agents/yolo-dev.md", "to": "agents/yolo-senior.md", "rel": "Dev sends dev_blocker to Senior"}, {"from": "agents/yolo-senior.md", "to": "agents/yolo-lead.md", "rel": "Senior escalates unresolvable to Lead"}, {"from": "agents/yolo-lead.md", "to": "references/execute-protocol.md", "rel": "Lead routes to Architect/Owner per protocol"}, {"from": "references/execute-protocol.md", "to": "commands/go.md", "rel": "Protocol triggers AskUserQuestion via go.md proxy"}]}, "obj": "Wire the upward path so Dev blockers actually reach the user through the chain (REQ-08): Dev->Senior->Lead->Architect/Owner->go.md->AskUserQuestion->User", "sk": ["commit"]}
{"id": "T1", "a": "Add ## Escalation Handling section to references/execute-protocol.md (after ## Change Management section). Document the full upward flow: (1) Dev sends dev_blocker to Senior, (2) Senior attempts resolution -- if cannot, sends escalation to Lead, (3) Lead attempts resolution -- if cannot, in single-dept sends escalation to Architect (via go.md proxy), in multi-dept sends to Owner, (4) Architect/Owner surfaces to user via AskUserQuestion with structured options: the blocker description, evidence, recommendation, and 2-3 concrete options for the user to choose from. Include timeout trigger: if escalation pending longer than config escalation.timeout_seconds, Lead auto-escalates to next level. REQ-08.", "f": ["references/execute-protocol.md"], "v": "grep -q 'Escalation Handling' references/execute-protocol.md", "done": "Escalation Handling section exists with step-by-step upward flow, timeout trigger, AskUserQuestion usage pattern", "tp": "docs"}
{"id": "T2", "a": "Add ## Escalation from Agents subsection to commands/go.md (inside Mode: Execute section, after spawn strategy gate). Document how go.md intercepts escalation that reaches the top of the chain and presents it to the user: (1) Receive escalation context from Architect (single-dept) or Owner (multi-dept), (2) Format AskUserQuestion with blocker summary, evidence bullets, and 2-3 concrete resolution options derived from the escalation recommendation field, (3) Wait for user response, (4) Package response into escalation_resolution schema with decision and action_items, (5) Return resolution to the escalating agent. Include example AskUserQuestion format. REQ-08.", "f": ["commands/go.md"], "v": "grep -q 'Escalation from Agents' commands/go.md", "done": "go.md has explicit protocol for receiving agent escalations and presenting to user via AskUserQuestion", "tp": "docs"}
{"id": "T3", "a": "Add ## Escalation Receipt and Routing section to agents/yolo-lead.md (after ## Escalation Table). Document how Lead receives escalations from Senior and routes them: (1) Assess if Lead can resolve (within decision authority), (2) If yes, resolve and send escalation_resolution back down, (3) If no, package as escalation with Lead's own assessment added, escalate to Architect (single-dept) or Owner (multi-dept), (4) Track escalation state: pending escalations with timestamps for timeout checking, (5) On receiving escalation_resolution from above, forward to the originating Senior. REQ-08, REQ-09.", "f": ["agents/yolo-lead.md"], "v": "grep -q 'Escalation Receipt' agents/yolo-lead.md", "done": "Lead agent prompt has Escalation Receipt section documenting receive, assess, route-or-resolve, and timeout tracking", "tp": "docs"}
{"id": "T4", "a": "Update agents/yolo-architect.md Escalation Table to add explicit AskUserQuestion protocol. Currently the table says 'AskUserQuestion (via Lead orchestration)' but does not specify how. Add: when Architect receives an escalation it cannot resolve, Architect packages it as a structured escalation with options array (2-3 concrete choices) and sends to go.md which presents via AskUserQuestion. Architect waits for escalation_resolution response. On receiving resolution, Architect may update architecture.toon if the decision affects design, then forwards resolution to Lead. REQ-08.", "f": ["agents/yolo-architect.md"], "v": "grep -q 'options array' agents/yolo-architect.md || grep -q 'structured escalation' agents/yolo-architect.md", "done": "Architect escalation table has explicit AskUserQuestion protocol with options format and resolution handling", "tp": "docs"}
