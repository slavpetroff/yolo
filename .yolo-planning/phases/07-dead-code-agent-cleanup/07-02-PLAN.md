---
phase: "07"
plan: "02"
title: "Refresh codebase map and documentation accuracy"
wave: 1
depends_on: []
must_haves:
  - "CONCERNS.md no longer claims 'No Rust unit tests'"
  - "ARCHITECTURE.md reflects 5 agents, version 2.5.0, accurate hook count"
  - "README.md shows 5 agents with Docs marked manual-only"
  - "hooks.json SubagentStart matcher matches actual 5-agent roster"
---

# Plan 02: Refresh Codebase Map and Documentation Accuracy

## Goal

Update ARCHITECTURE.md, CONCERNS.md, README.md, and hooks.json to reflect the actual state of the codebase after dead code removal. The yolo-reviewer agent is being deleted in Plan 07-01, so all documentation must reference 5 agents. Fix the false "No Rust unit tests" claim and other stale entries.

## Tasks

### Task 1: Update README.md agent section

**Files:** `README.md`

**Changes:**
1. Find every occurrence of "6 agents" or "6 specialized agents" and change to "5 agents" / "5 specialized agents".
2. Remove the Reviewer row from the agent table.
3. In the Docs agent row, add "(manual-only — no command auto-spawns this agent)" to the description or a footnote.
4. Update the architecture diagram if it references Reviewer.
5. Update any "4 of 6 agents" or similar ratio text.

**Verification:** Grep README.md for "6 agents", "Reviewer", "reviewer" — zero matches in active content (aside from git history references).

### Task 2: Update CONCERNS.md

**Files:** `.yolo-planning/codebase/CONCERNS.md`

**Changes:**
1. Line 24: Replace "No Rust unit tests visible (only bats shell tests)" with "923 Rust unit tests + 671 bats integration tests (1,594 total)".
2. Line 25: "No integration test for full MCP server lifecycle" — verify this is still true and keep or remove.
3. Line 26: "`install-hooks` CLI subcommand referenced but returns 'Unknown command'" — verify current status. If `yolo hook install` works, update or remove this line.
4. Line 4: ".vbw-planning/ contains legacy planning artifacts" — verify. If directory no longer exists, remove.
5. Line 5: Migration scripts (fix_namespace.py, fix_test.py, replace_scripts.py) — verify if still in repo. If removed, delete line.

**Verification:** Read updated CONCERNS.md. No false claims remain.

### Task 3: Update ARCHITECTURE.md

**Files:** `.yolo-planning/codebase/ARCHITECTURE.md`

**Changes:**
1. Line 13: "23 hook implementations" — verify actual count and correct (should be ~19 Rust handlers).
2. Line 19: "version (2.3.0)" — change to "version (2.5.0)".
3. Line 25: "6 specialized agents: architect, dev, debugger, docs, lead, reviewer" — change to "5 specialized agents: architect, dev, debugger, docs, lead".
4. Line 49: "Reviewer verifies" — change to "verification protocol validates" or similar.
5. Line 12: "58 command implementations" — verify current count and correct if needed.

**Verification:** Read updated ARCHITECTURE.md. All counts and claims match reality.

### Task 4: Verify hooks.json SubagentStart matcher

**Files:** `hooks/hooks.json`

**Current matcher includes:** `yolo-lead|yolo-dev|yolo-debugger|yolo-architect|yolo-docs` (plus aliases).

**After reviewer removal:** Actual agents are yolo-lead, yolo-dev, yolo-debugger, yolo-architect, yolo-docs (5 agents). The matcher already matches this set correctly.

**Verify:** Read hooks.json, confirm SubagentStart matcher lists exactly the 5 remaining agents and their aliases. No changes needed if already correct. If any stale entries found (e.g., scout, qa references), remove them.

**Verification:** Matcher agent list matches `ls agents/ | sed 's/.md//'` output exactly.
