{"p":"03","n":"01","t":"Per-department Security Reviewer agent definitions","w":1,"d":[],"mh":["BE security agent (yolo-security.md) updated with dept-scoped checks","FE security agent (yolo-fe-security.md) created with FE-specific checks (XSS, CSP, auth tokens)","UX security agent (yolo-ux-security.md) created with UX-specific checks (PII, data exposure)","All 3 follow yolo-{dept}-{role}.md naming convention","Each agent scoped to its department's file boundaries"],"obj":"Create per-department Security Reviewer agents. Expand existing yolo-security.md to be BE-specific and create yolo-fe-security.md and yolo-ux-security.md with department-scoped vulnerability checks. Each agent is read-only, reports to its department Lead, and follows the existing security-audit.jsonl output format."}
{"id":"T1","tp":"modify","a":"Update agents/yolo-security.md to be explicitly Backend-scoped. Add 'Department: Backend' to hierarchy section. Add BE-specific audit categories: (1) Shell injection in bash scripts (eval, backtick expansion with user input); (2) Secret leakage through hook scripts (env vars logged, debug output); (3) jq injection (unsanitized input in jq expressions); (4) File path traversal in script arguments. Keep existing OWASP/secrets/deps/config categories. Add BE dir_isolation note: only audits files in scripts/, agents/, hooks/, config/, references/. Rename audit scope to 'Backend Security Audit'. No changes to output format, escalation, or tool permissions.","f":["agents/yolo-security.md"],"v":"grep -c 'Department: Backend' agents/yolo-security.md returns 1; grep -c 'Shell injection' agents/yolo-security.md returns >= 1","done":false}
{"id":"T2","tp":"create","a":"Create agents/yolo-fe-security.md with YAML frontmatter (name: yolo-fe-security, description: Frontend Security Reviewer for XSS, CSP, auth token, and bundle security audits, tools: Read/Grep/Glob/Bash/SendMessage, disallowedTools: Write/Edit/NotebookEdit/EnterPlanMode/ExitPlanMode, model: sonnet, maxTurns: 25, permissionMode: plan, memory: project). Agent body: (1) Hierarchy: Department Frontend, reports to FE Lead; (2) Persona & Voice: Frontend Application Security Engineer archetype — browser threat model, client-side attack surface; (3) FE-specific audit categories: XSS (DOM-based, reflected, stored — unescaped React dangerouslySetInnerHTML, v-html, innerHTML), CSP violations (inline scripts, eval, unsafe-inline), Auth Token handling (localStorage vs httpOnly cookies, token in URL params, token in console.log), Client-side secret exposure (API keys in bundle, source maps with credentials), Dependency supply chain (npm audit, known malicious packages, typosquat detection), Bundle security (source maps in production, debug code shipped); (4) dir_isolation: audits src/components/, src/pages/, src/hooks/, src/styles/, package.json only; (5) Output: security-audit.jsonl same schema as BE; (6) Escalation: reports to FE Lead, FAIL = hard STOP.","f":["agents/yolo-fe-security.md"],"v":"File exists, has valid YAML frontmatter with name: yolo-fe-security, body contains 'XSS' and 'CSP' and 'Department: Frontend'","done":false}
{"id":"T3","tp":"create","a":"Create agents/yolo-ux-security.md with YAML frontmatter (name: yolo-ux-security, description: UI/UX Security Reviewer for PII exposure, data handling in mockups, and accessibility-security intersection audits, tools: Read/Grep/Glob/SendMessage, disallowedTools: Write/Edit/Bash/NotebookEdit/EnterPlanMode/ExitPlanMode, model: sonnet, maxTurns: 20, permissionMode: plan, memory: project). Agent body: (1) Hierarchy: Department UI/UX, reports to UX Lead; (2) Persona & Voice: UX Security Researcher archetype — user data protection perspective, privacy-by-design; (3) UX-specific audit categories: PII in design artifacts (real user data in mockups/wireframes, actual emails/names in component specs), Data exposure in user flows (sensitive data visible in screenshots, password fields without masking), Accessibility-security intersection (screen reader leaking hidden content, aria-label with sensitive info), Design token security (no hardcoded URLs or API endpoints in tokens), Form security patterns (autocomplete attributes, password field types, CSRF token placeholders); (4) dir_isolation: audits design/, wireframes/, design-tokens/ only; (5) Output: security-audit.jsonl same schema; (6) Escalation: reports to UX Lead, FAIL = hard STOP; (7) No Bash tool — UX security is pattern-based scanning only.","f":["agents/yolo-ux-security.md"],"v":"File exists, has valid YAML frontmatter with name: yolo-ux-security, body contains 'PII' and 'Department: UI/UX'","done":false}
