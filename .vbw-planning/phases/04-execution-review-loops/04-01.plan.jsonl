{"p":"04","n":"01","t":"Dev suggestions field in summary.jsonl","w":1,"d":[],"mh":["summary.jsonl schema extended with sg (suggestions) field as string[]","All 3 Dev agents (BE, FE, UX) document sg field in Stage 3 summary output","validate-summary.sh accepts optional sg field without failing validation","artifact-formats.md key dictionary updated with sg entry"],"obj":"Add the sg (suggestions) field to summary.jsonl schema so Dev agents can surface implementation insights to Senior during code review. Update all 3 department Dev agents and the validation script."}
{"id":"T1","tp":"modify","a":"Update references/artifact-formats.md: Add sg to the Summary JSONL Key Dictionary table with: Key=sg, Full Name=suggestions, Type=string[]. Add a note below the table: 'sg is an optional field — free-form suggestions from Dev for Senior consideration during code review. Empty array or omitted when Dev has none. Added in Phase 4 (D1: Execution & Review Loops).' Also update the summary.jsonl example in the file to include sg field.","f":["references/artifact-formats.md"],"v":"grep -c '| `sg`' references/artifact-formats.md returns 1; grep 'suggestions' references/artifact-formats.md returns match","done":false}
{"id":"T2","tp":"modify","a":"Update agents/yolo-dev.md: In the Stage 3 summary section, add sg to the summary.jsonl schema. Add instructions: 'After completing all tasks in a plan, populate sg with implementation suggestions for Senior. These are insights discovered during implementation that fall outside current spec scope but would improve code quality, architecture, or maintainability. Examples: extracting shared utilities, renaming for consistency, adding missing error boundaries. If no suggestions, omit sg or use empty array.' Add sg to the schema example showing string[] type.","f":["agents/yolo-dev.md"],"v":"grep -c 'sg' agents/yolo-dev.md returns >= 2 (schema + instructions)","done":false}
{"id":"T3","tp":"modify","a":"Update agents/yolo-fe-dev.md: Same sg field addition as T2 — add sg to Stage 3 summary schema and instructions. FE-specific suggestion examples: component extraction, CSS-in-JS consolidation, accessibility improvements discovered during implementation.","f":["agents/yolo-fe-dev.md"],"v":"grep -c 'sg' agents/yolo-fe-dev.md returns >= 2","done":false}
{"id":"T4","tp":"modify","a":"Update agents/yolo-ux-dev.md: Same sg field addition as T2 — add sg to Stage 3 summary schema and instructions. UX-specific suggestion examples: design token consolidation, component spec refinements, user flow improvements discovered during implementation.","f":["agents/yolo-ux-dev.md"],"v":"grep -c 'sg' agents/yolo-ux-dev.md returns >= 2","done":false}
{"id":"T5","tp":"modify","a":"Update scripts/validate-summary.sh: Add sg to the known optional fields list. The sg field should be validated as: (1) if present, must be a JSON array; (2) each element must be a non-empty string; (3) field is fully optional — missing or empty array both valid. Use jq: 'if .sg then (.sg | type == \"array\" and all(type == \"string\" and length > 0)) else true end'. Do not make sg a required field.","f":["scripts/validate-summary.sh"],"v":"echo '{\"p\":\"01\",\"n\":\"01\",\"t\":\"test\",\"s\":\"complete\",\"dt\":\"2026-01-01\",\"tc\":1,\"tt\":1,\"ch\":[\"abc\"],\"fm\":[\"a.sh\"],\"dv\":[],\"built\":[\"x\"],\"tst\":\"red_green\",\"sg\":[\"suggestion\"]}' | bash scripts/validate-summary.sh /dev/stdin exits 0","done":false}
