{"p":"01","n":"01","t":"Create Analyze agent definition","w":1,"d":[],"mh":["Agent outputs complexity, departments, intent, confidence in single call","Always runs on strongest model (opus)","Backward compatible with existing intent detection"],"obj":"Define the yolo-analyze agent that combines complexity classification, department routing, and intent detection into a single unified step."}
{"id":"T1","tp":"feat","a":"Create agents/yolo-analyze.md with YAML frontmatter (name, description, tools: Read/Glob/Grep, disallowedTools: Write/Edit/Bash/EnterPlanMode/ExitPlanMode, model: opus, maxTurns: 10, permissionMode: plan, memory: project). The agent body defines: (1) Hierarchy: reports to go.md, outputs analysis.json; (2) Persona & Voice: Principal Engineer / Technical Classifier archetype; (3) Input Contract: receives user intent text, phase-detect.sh output, config.json, codebase/ mapping summary; (4) Output Contract: returns structured JSON with fields: complexity (trivial|medium|high), departments (array of active dept slugs), intent (execute|debug|fix|research|discuss|plan|scope|archive|ambiguous), confidence (0.0-1.0), reasoning (1-2 sentences), suggested_path (trivial_shortcut|medium_path|full_ceremony|redirect); (5) Classification Criteria section documenting trivial/medium/high heuristics; (6) Department Detection section for multi-dept routing; (7) Intent Detection section covering all existing go.md keyword patterns.","f":["agents/yolo-analyze.md"],"v":"File exists, has valid YAML frontmatter with model: opus, body contains Output Contract section with all required fields","done":false}
{"id":"T2","tp":"feat","a":"Add 'analyze' role to config/model-profiles.json â€” set to opus in all three profiles (quality, balanced, budget) since Analyze always runs on strongest model per requirements. Add entry to each profile object: \"analyze\": \"opus\".","f":["config/model-profiles.json"],"v":"jq '.quality.analyze, .balanced.analyze, .budget.analyze' config/model-profiles.json returns opus for all three","done":false}
{"id":"T3","tp":"feat","a":"Add 'analyze' role to references/company-hierarchy.md Agent Roster table. Row: yolo-analyze | Complexity Classifier / Intent Detector | Opus | Read,Glob,Grep | analysis.json | 1000. Add to Planning Team section. Add to Command Routing Table showing analyze runs before Lead dispatch. Add to Decision Authority Matrix: CAN Decide: complexity classification, department detection, intent classification. MUST Escalate: ambiguous intent (confidence < 0.6), scope changes.","f":["references/company-hierarchy.md"],"v":"grep -c 'yolo-analyze' references/company-hierarchy.md returns >= 3 (roster + team + routing)","done":false}
{"id":"T4","tp":"feat","a":"Add analyze role to scripts/resolve-agent-model.sh case statement so it resolves correctly. Add 'analyze' to the known roles list. The role should resolve from model-profiles.json like all other roles.","f":["scripts/resolve-agent-model.sh"],"v":"bash scripts/resolve-agent-model.sh analyze .yolo-planning/config.json config/model-profiles.json exits 0 and outputs opus","done":false}
