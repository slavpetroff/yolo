{"phase":"09","plan":"09-04","title":"Effort cascading: step-skip implementation in go.md","wave":1,"depends_on":[],"must_haves":["Effort level cascades to all downstream agents","turbo/fast/balanced/thorough step-skip rules implemented in go.md","Effort profiles updated with step-skip semantics"]}
{"id":"T1","title":"Add step-skip dispatch table to go.md execute mode","file":"commands/go.md","action":"modify","desc":"Add effort-based step-skip table in go.md execute mode section (after step 3.5 YOLO_AGENT_MODE). Table defines which steps to skip per effort level: turbo: skip steps 1 (Critic), 2 (Scout/Research), 8.5 (Documenter), 10 (Security), and second review round in step 8; fast: skip step 8.5 (Documenter) and second review round in step 8; balanced: full 11-step workflow; thorough: full workflow + extra validation (run QA gate twice, add regression check). Add instruction: 'Before each workflow step, check effort level against this table. If step is marked skip for current effort, write {\"step\":\"X\",\"status\":\"skipped\",\"reason\":\"effort=Y\"} to .execution-state.json and proceed to next step.' This replaces the current per-agent effort matrices in toon files."}
{"id":"T2","title":"Pass effort level to all downstream agents via context","file":"commands/go.md","action":"modify","desc":"In go.md execute mode, when spawning any agent (Lead, Architect, Senior, Dev, QA, etc.), include 'effort_level={level}' in the agent task prompt. Currently only Lead receives effort context. Add to the agent spawn template: 'Effort level: {effort}. This controls step skipping (handled by orchestrator), not agent quality. Execute your role at full quality.' This ensures all agents are aware of effort context for their own decision-making (e.g., dev deciding verbosity of commit messages)."}
{"id":"T3","title":"Update effort profile toon files with step-skip semantics","file":"references/effort-profile-turbo.toon","action":"modify","desc":"Update all 4 effort profile toon files (turbo, fast, balanced, thorough) to use step-skip semantics instead of per-agent degradation. Replace the 'matrix' section with 'step_skips' section listing which workflow steps are skipped. Remove per-agent 'Level' column (low/medium/high/skip). Add 'agent_quality: full (always)' note. turbo.toon: skip steps 1,2,8.5,10 + second review. fast.toon: skip steps 8.5 + second review. balanced.toon: no skips. thorough.toon: no skips + extra validation. Update all 4 files."}
{"id":"T4","title":"Update execute-protocol.md effort references","file":"references/execute-protocol.md","action":"modify","desc":"In execute-protocol.md, find all references to effort levels that imply per-agent degradation (e.g., 'QA at low level', 'Scout at low') and replace with step-skip language (e.g., 'Scout step skipped when effort=turbo'). Search for 'effort' across the file. Add a clear note at the top of the workflow steps section: 'Effort level controls which steps execute, not how they execute. When an agent runs, it runs at full quality regardless of effort level.'"}
{"id":"T5","title":"Create tests for effort step-skip behavior","file":"tests/unit/test-effort-cascading.bats","action":"create","desc":"Create bats test file verifying effort cascading: (1) turbo effort skips critic, scout, documenter, security steps, (2) fast effort skips documenter and second review, (3) balanced runs all 11 steps, (4) thorough runs all steps + extra validation, (5) effort level appears in agent spawn prompts. Test by checking .execution-state.json entries for skipped steps. Use mock phase directory with .execution-state.json."}
