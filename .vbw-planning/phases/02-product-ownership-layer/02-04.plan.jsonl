{"p":"02","n":"04","t":"Test scaffolding for PO layer","w":1,"d":[],"mh":["Tests validate PO loop 3-round cap","Tests validate early exit on high confidence","Tests validate dependency graph validation","Tests validate user presentation rendering"],"obj":"Create BATS test scaffolding for all PO layer scripts: po-scope-loop.sh, validate-deps.sh, and render-user-presentation.sh."}
{"id":"T1","tp":"test","a":"Create tests/unit/test-po-scope-loop.bats — BATS tests for po-scope-loop.sh: (1) Test 3-round cap: mock Questionary returning low confidence for 3 rounds, verify loop exits after exactly 3 with rounds_used=3; (2) Test early exit: mock Questionary returning confidence 0.9 on round 1, verify early_exit=true and rounds_used=1; (3) Test config reading: verify script reads po.max_questionary_rounds and po.confidence_threshold; (4) Test output format: verify JSON summary has fields rounds_used, confidence, early_exit, scope_path; (5) Test missing config graceful degradation: verify defaults (3 rounds, 0.85 threshold) when po config absent.","f":["tests/unit/test-po-scope-loop.bats"],"v":"File exists, contains at least 4 @test blocks, references po-scope-loop.sh","done":false}
{"id":"T2","tp":"test","a":"Create tests/unit/test-validate-deps.bats — BATS tests for validate-deps.sh: (1) Test valid linear graph: A->B->C returns valid:true; (2) Test circular dependency: A->B->C->A returns valid:false with cycle error; (3) Test missing phase reference: dep referencing nonexistent phase returns error; (4) Test empty graph: no phases returns valid:true; (5) Test critical path validation: disconnected phase in critical_path returns error.","f":["tests/unit/test-validate-deps.bats"],"v":"File exists, contains at least 4 @test blocks, references validate-deps.sh","done":false}
{"id":"T3","tp":"test","a":"Create tests/unit/test-render-user-presentation.bats — BATS tests for render-user-presentation.sh: (1) Test basic rendering: user_presentation with content and options renders formatted markdown; (2) Test empty options: presentation with no options still renders content; (3) Test missing fields: graceful handling when context field is absent; (4) Test JSON parsing: invalid JSON input exits non-zero.","f":["tests/unit/test-render-user-presentation.bats"],"v":"File exists, contains at least 3 @test blocks, references render-user-presentation.sh","done":false}
{"id":"T4","tp":"test","a":"Create tests/static/test-po-agent-naming.bats — static naming validation for new PO layer agents: (1) Test yolo-po.md exists in agents/ with valid naming; (2) Test yolo-questionary.md exists with valid naming; (3) Test yolo-roadmap.md exists with valid naming; (4) Test all three have valid YAML frontmatter (name field matches filename pattern); (5) Test model-profiles.json contains all three new roles.","f":["tests/static/test-po-agent-naming.bats"],"v":"File exists, contains at least 4 @test blocks, checks agents/yolo-po.md, agents/yolo-questionary.md, agents/yolo-roadmap.md","done":false}
