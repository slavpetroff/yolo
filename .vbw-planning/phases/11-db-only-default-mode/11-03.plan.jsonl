{"p":11,"n":3,"t":"Make DB init mandatory in go.md and wire into bootstrap flow","w":1,"d":[],"mh":["go.md Execute mode has mandatory DB init (no db_available flag)","go.md Execute mode fails fast if DB init fails","init.md includes DB initialization step","init-db.sh default planning dir is configurable via arg","Zero db_available references in go.md"],"obj":"Replace optional DB initialization in go.md Execute mode (Step 2.5) with mandatory init that fails fast on error. Remove db_available flag and all conditional DB blocks. Wire DB init into init.md bootstrap flow so DB exists from project creation. Update init-db.sh default to support both planning dir conventions."}
{"id":"11-03-T1","tp":"refactor","a":"Make DB init mandatory in go.md Execute mode (Step 2.5) -- remove db_available flag","f":["commands/go.md"],"v":"grep -c 'db_available' commands/go.md returns 0; Step 2.5 shows unconditional DB init","done":false,"spec":"In go.md Step 2.5 (lines 472-492): Replace the entire optional block with mandatory init. Remove db_available=false declaration. Remove the if-guard around init-db.sh. New code: bash \"${CLAUDE_PLUGIN_ROOT}/scripts/db/init-db.sh\" --planning-dir .vbw-planning (no conditional). If init-db.sh fails (non-zero exit), STOP with error: 'ERROR: Artifact store initialization failed. Check SQLite availability.' Remove the fallback text about 'pre-phase-10 installation' and 'file-based path'. After successful init, set DB_PATH='.vbw-planning/yolo.db' and proceed. Keep the JSONL import loop for existing plan/summary files (this is still useful for importing plans written before DB init in current session). Display: '✓ Artifact store initialized (SQLite)' on success, no 'db_available' display."}
{"id":"11-03-T2","tp":"refactor","a":"Remove db_available conditionals from go.md Step 2.7 (phase status check)","f":["commands/go.md"],"v":"grep -c 'db_available' commands/go.md returns 0; Step 2.7 shows unconditional DB query","done":false,"spec":"In go.md Step 2.7 (lines 493-507): Remove the 'when db_available=true' guard. Make the phase status check unconditional -- always query via check-phase-status.sh. Remove the fallback text: 'When db_available=false, fall through to existing phase-detect.sh output for progress data.' The DB is now always available, so the check always runs. Simplify to: 'Phase status check: bash check-phase-status.sh ${PHASE_NUM} --db $DB_PATH --json' with direct parsing of results."}
{"id":"11-03-T3","tp":"feat","a":"Wire DB initialization into init.md bootstrap flow","f":["commands/init.md"],"v":"grep -c 'init-db' commands/init.md returns at least 1; DB init step exists between scaffold and completion","done":false,"spec":"Add a new Step 1.3 (after Step 1 scaffold directory, before Step 1.5 git hooks) to init.md: '### Step 1.3: Initialize artifact store'. Content: Run bash ${CLAUDE_PLUGIN_ROOT}/scripts/db/init-db.sh --planning-dir .yolo-planning. On success display '✓ Artifact store initialized'. On failure display error and STOP -- DB is mandatory. This ensures yolo.db exists from the moment the project is initialized, before any workflow runs. Add .yolo-planning/yolo.db to the Step 4 file checklist: '✓ .yolo-planning/yolo.db (artifact store)'."}
{"id":"11-03-T4","tp":"feat","a":"Wire DB initialization into go.md Bootstrap mode","f":["commands/go.md"],"v":"grep -c 'init-db' commands/go.md shows init-db reference in Bootstrap mode; B4.5 or similar step exists","done":false,"spec":"In go.md Mode: Bootstrap section, add a step B4.5 (after B4: STATE.md, before B5: Brownfield summary): 'B4.5: Initialize artifact store'. Run: bash ${CLAUDE_PLUGIN_ROOT}/scripts/db/init-db.sh --planning-dir .yolo-planning. Import ROADMAP.md and REQUIREMENTS.md into DB (init-db.sh already does this automatically via auto-import). Display '✓ Artifact store initialized'. This ensures that projects bootstrapped via /yolo:go (not /yolo:init) also get a DB from the start. On failure, display error but continue (bootstrap can complete without DB -- execute will fail-fast later)."}
