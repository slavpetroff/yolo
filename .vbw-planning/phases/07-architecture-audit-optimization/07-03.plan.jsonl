{"p":"07","n":"03","t":"Single classification path (consolidate dual classify)","w":1,"d":[],"mh":{"tr":["complexity-classify.sh becomes sole classifier for trivial/medium","go.md Path 0 uses classify.sh result to skip Analyze for high-confidence cases","Analyze agent becomes secondary for ambiguous cases only"],"ar":["Analyze agent still available for ambiguous cases"],"kl":["conservative: if classify.sh confidence < threshold, still spawn Analyze","zero breaking changes to go.md output contract"]},"obj":"Resolve CI-1 (dual classification redundancy) by making complexity-classify.sh the primary classifier and making the Analyze agent a secondary pass only for ambiguous cases (confidence < medium_threshold), eliminating redundant LLM classification on clear trivial/medium tasks."}
{"id":"T1","tp":"modify","a":"Enhance complexity-classify.sh to output an additional field skip_analyze (boolean) that is true when confidence >= medium_threshold (read from --config or default 0.7). Also accept --medium-threshold flag with default 0.7.","f":["scripts/complexity-classify.sh"],"v":"bash scripts/complexity-classify.sh --intent 'fix typo in README' --config config/defaults.json | jq '.skip_analyze' returns true","done":"complexity-classify.sh outputs skip_analyze field based on confidence vs threshold"}
{"id":"T2","tp":"modify","a":"Update go.md Path 0 to check complexity-classify.sh skip_analyze field BEFORE spawning Analyze agent. If skip_analyze=true, route directly to trivial_shortcut or medium_path using classify.sh output. Only spawn Analyze when skip_analyze=false or complexity=high.","f":["commands/go.md"],"v":"Read go.md Path 0 section; confirm classify.sh runs first and Analyze is conditional on skip_analyze","done":"go.md only spawns Analyze agent for ambiguous/high cases, not trivial/medium with high confidence"}
{"id":"T3","tp":"modify","a":"Update yolo-analyze.md to document its role as secondary classifier for ambiguous cases. Add input contract field for classify_result (the shell classifier's output). Remove model: opus hardcoding from frontmatter, change to model: inherit so it respects model profile.","f":["agents/yolo-analyze.md"],"v":"Read yolo-analyze.md; confirm secondary role documented and model is inherit not opus","done":"Analyze agent reflects secondary role and uses profile model, not hardcoded opus"}
{"id":"T4","tp":"create","a":"Add BATS tests for the new classification flow: test skip_analyze=true for high-confidence trivial, test skip_analyze=false for low-confidence, test that high complexity always has skip_analyze=false.","f":["tests/unit/classify-skip-analyze.bats"],"v":"bats tests/unit/classify-skip-analyze.bats passes all tests","done":"Tests verify skip_analyze logic and classification routing"}
