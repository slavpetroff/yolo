{"p":"07","n":"02","t":"Config cleanup and manifest completeness","w":1,"d":[],"mh":{"tr":["all 36 agent roles have context-manifest.json entries","dead feature flags removed from defaults.json","force_analyze_model changed from opus to balanced"],"ar":["no behavioral change to existing workflows"],"kl":["jq for JSON manipulation","backward compat with existing compile-context.sh fallbacks"]},"obj":"Ensure all 36 agents have context-manifest.json entries (CG-3), remove dead v2/v3 feature flags from config (CS-1), change force_analyze_model default from opus to balanced (CI-5), and add missing department-prefixed role entries."}
{"id":"T1","tp":"modify","a":"Audit context-manifest.json against all 36 agent files in agents/. Add missing role entries for: fe-architect, fe-lead, fe-senior, fe-dev, fe-tester, fe-qa, fe-qa-code, ux-architect, ux-lead, ux-senior, ux-dev, ux-tester, ux-qa, ux-qa-code. Each entry should have appropriate files, artifacts, fields, and budget with includes reference to base role.","f":["config/context-manifest.json"],"v":"jq '.roles | keys | length' config/context-manifest.json returns count >= 36; jq '.roles[\"fe-dev\"]' returns valid entry","done":"context-manifest.json has entries for all 36 agent roles including all dept-prefixed variants"}
{"id":"T2","tp":"modify","a":"Remove dead feature flags from defaults.json. Remove any v2/v3 experimental toggles that are always false with no code paths checking them. Also change complexity_routing.force_analyze_model from 'opus' to 'balanced'. Also add po.skip_on_complexity array stub as empty array (07-05 will populate it).","f":["config/defaults.json"],"v":"jq validates defaults.json; jq '.complexity_routing.force_analyze_model' returns 'balanced'","done":"defaults.json cleaned: dead flags removed, force_analyze_model=balanced"}
{"id":"T3","tp":"modify","a":"Add analyze and integration-gate role entries to context-manifest.json if missing. Verify po, questionary, roadmap entries exist and have correct artifact/field mappings matching their agent .md definitions.","f":["config/context-manifest.json"],"v":"jq '.roles.analyze' and jq '.roles[\"integration-gate\"]' return valid entries","done":"analyze and integration-gate roles have correct manifest entries"}
{"id":"T4","tp":"create","a":"Add BATS test that validates all agent .md files in agents/ have a corresponding entry in context-manifest.json (by extracting role name from filename pattern yolo-{role}.md).","f":["tests/static/manifest-completeness.bats"],"v":"bats tests/static/manifest-completeness.bats passes","done":"Static test validates manifest covers all agent files"}
