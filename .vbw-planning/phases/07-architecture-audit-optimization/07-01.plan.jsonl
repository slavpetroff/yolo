{"p":"07","n":"01","t":"Agent template + dept overlay system","w":1,"d":[],"mh":{"tr":["template dir with 9 base role templates","3 dept overlay dirs with dept-specific sections","generate-agent.sh script produces full agent .md from template + overlay"],"ar":["backward compat: existing agents/ files still work until migration"],"kl":["zero-dependency bash","template = shared 85%, overlay = dept-specific 15%"]},"obj":"Create a template-based agent generation system that consolidates ~85% duplicate content across 27 department agent files into 9 base role templates + 3 department overlay files, with a generate-agent.sh script to produce the final agent .md files."}
{"id":"T1","tp":"create","a":"Create agents/templates/ directory with base role template for dev role extracting shared content from yolo-dev.md (execution protocol, stages, summary schema, escalation, commit discipline). Template uses {{DEPT}}, {{DEPT_PREFIX}}, {{ROLE_TITLE}}, {{REPORTS_TO}} placeholders.","f":["agents/templates/dev.md"],"v":"File exists with placeholder markers; diff against yolo-dev.md shows only dept-specific content removed","done":"agents/templates/dev.md exists with valid placeholder syntax and covers 85%+ of yolo-dev.md content"}
{"id":"T2","tp":"create","a":"Create agents/templates/ base role templates for senior, tester, qa, qa-code roles by extracting shared content from backend variants. Use same placeholder pattern as T1.","f":["agents/templates/senior.md","agents/templates/tester.md","agents/templates/qa.md","agents/templates/qa-code.md"],"v":"Each template has placeholders; shared content matches corresponding yolo-{role}.md","done":"4 template files exist with valid placeholders covering 85%+ of each role's shared content"}
{"id":"T3","tp":"create","a":"Create agents/templates/ base role templates for architect, lead, security, documenter roles using same placeholder pattern.","f":["agents/templates/architect.md","agents/templates/lead.md","agents/templates/security.md","agents/templates/documenter.md"],"v":"Each template has placeholders; shared content matches corresponding yolo-{role}.md","done":"4 template files exist with valid placeholders covering 85%+ of each role's shared content"}
{"id":"T4","tp":"create","a":"Create agents/overlays/ directory with 3 dept overlay files (backend.json, frontend.json, uiux.json). Each overlay defines dept-specific values: DEPT, DEPT_PREFIX, ROLE_TITLE variants, vocabulary domains, file patterns, and communication standards per role.","f":["agents/overlays/backend.json","agents/overlays/frontend.json","agents/overlays/uiux.json"],"v":"jq validates each overlay JSON; keys match template placeholders","done":"3 overlay JSON files exist with all placeholder values for their department"}
{"id":"T5","tp":"create","a":"Create scripts/generate-agent.sh that reads a template + overlay, substitutes placeholders, and writes final agent .md to agents/. Supports --role, --dept, --dry-run flags. Validates template exists and overlay has required keys.","f":["scripts/generate-agent.sh"],"v":"bash scripts/generate-agent.sh --role dev --dept backend --dry-run produces output matching current yolo-dev.md structure; bash scripts/generate-agent.sh --role dev --dept fe --dry-run matches yolo-fe-dev.md structure","done":"generate-agent.sh produces correct agent files for all 9 roles x 3 depts"}
